!function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function i(t){for(var e=1;t*e%1;)e*=10;return e}function s(t,e){try{for(var i in e)Object.defineProperty(t.prototype,i,{value:e[i],enumerable:!1})}catch(s){t.prototype=e}}function a(){}function r(t){return ln+t in this}function o(t){return t=ln+t,t in this&&delete this[t]}function n(){var t=[];return this.forEach(function(e){t.push(e)}),t}function l(){var t=0;for(var e in this)e.charCodeAt(0)===hn&&++t;return t}function h(){for(var t in this)if(t.charCodeAt(0)===hn)return!1;return!0}function c(){}function d(t,e,i){return function(){var s=i.apply(e,arguments);return s===e?t:s}}function u(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var i=0,s=cn.length;s>i;++i){var a=cn[i]+e;if(a in t)return a}}function f(){}function p(){}function m(t){function e(){for(var e,s=i,a=-1,r=s.length;++a<r;)(e=s[a].on)&&e.apply(this,arguments);return t}var i=[],s=new a;return e.on=function(e,a){var r,o=s.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,i=i.slice(0,r=i.indexOf(o)).concat(i.slice(r+1)),s.remove(e)),a&&i.push(s.set(e,{on:a})),t)},e}function v(){Xo.event.preventDefault()}function b(){for(var t,e=Xo.event;t=e.sourceEvent;)e=t;return e}function _(t){for(var e=new p,i=0,s=arguments.length;++i<s;)e[arguments[i]]=m(e);return e.of=function(i,s){return function(a){try{var r=a.sourceEvent=Xo.event;a.target=t,Xo.event=a,e[a.type].apply(i,s)}finally{Xo.event=r}}},e}function g(t){return un(t,bn),t}function y(t){return"function"==typeof t?t:function(){return fn(t,this)}}function T(t){return"function"==typeof t?t:function(){return pn(t,this)}}function w(t,e){function i(){this.removeAttribute(t)}function s(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,e)}function r(){this.setAttributeNS(t.space,t.local,e)}function o(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}function n(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}return t=Xo.ns.qualify(t),null==e?t.local?s:i:"function"==typeof e?t.local?n:o:t.local?r:a}function C(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+Xo.requote(t)+"(?:\\s+|$)","g")}function x(t){return t.trim().split(/^|\s+/)}function F(t,e){function i(){for(var i=-1;++i<a;)t[i](this,e)}function s(){for(var i=-1,s=e.apply(this,arguments);++i<a;)t[i](this,s)}t=x(t).map(L);var a=t.length;return"function"==typeof e?s:i}function L(t){var e=A(t);return function(i,s){if(a=i.classList)return s?a.add(t):a.remove(t);var a=i.getAttribute("class")||"";s?(e.lastIndex=0,e.test(a)||i.setAttribute("class",C(a+" "+t))):i.setAttribute("class",C(a.replace(e," ")))}}function k(t,e,i){function s(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,e,i)}function r(){var s=e.apply(this,arguments);null==s?this.style.removeProperty(t):this.style.setProperty(t,s,i)}return null==e?s:"function"==typeof e?r:a}function I(t,e){function i(){delete this[t]}function s(){this[t]=e}function a(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}return null==e?i:"function"==typeof e?a:s}function S(t){return"function"==typeof t?t:(t=Xo.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function R(t){return{__data__:t}}function D(t){return function(){return vn(this,t)}}function O(t){return arguments.length||(t=Xo.ascending),function(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}}function W(t,e){for(var i=0,s=t.length;s>i;i++)for(var a,r=t[i],o=0,n=r.length;n>o;o++)(a=r[o])&&e(a,o,i);return t}function M(t){return un(t,gn),t}function E(t){var e,i;return function(s,a,r){var o,n=t[r].update,l=n.length;for(r!=i&&(i=r,e=0),a>=e&&(e=a+1);!(o=n[e])&&++e<l;);return o}}function B(){var t=this.__transition__;t&&++t.active}function H(t,e,i){function s(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function a(){var a=l(e,Yo(arguments));s.call(this),this.addEventListener(t,this[o]=a,a.$=i),a._=e}function r(){var e,i=new RegExp("^__on([^.]+)"+Xo.requote(t)+"$");for(var s in this)if(e=s.match(i)){var a=this[s];this.removeEventListener(e[1],a,a.$),delete this[s]}}var o="__on"+t,n=t.indexOf("."),l=P;n>0&&(t=t.substring(0,n));var h=Tn.get(t);return h&&(t=h,l=N),n?e?a:s:e?f:r}function P(t,e){return function(i){var s=Xo.event;Xo.event=i,e[0]=this.__data__;try{t.apply(this,e)}finally{Xo.event=s}}}function N(t,e){var i=P(t,e);return function(t){var e=this,s=t.relatedTarget;s&&(s===e||8&s.compareDocumentPosition(e))||i.call(e,t)}}function G(){var t=".dragsuppress-"+ ++Cn,e="click"+t,i=Xo.select(Ko).on("touchmove"+t,v).on("dragstart"+t,v).on("selectstart"+t,v);if(wn){var s=$o.style,a=s[wn];s[wn]="none"}return function(r){function o(){i.on(e,null)}i.on(t,null),wn&&(s[wn]=a),r&&(i.on(e,function(){v(),o()},!0),setTimeout(o,0))}}function V(t,e){e.changedTouches&&(e=e.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var s=i.createSVGPoint();if(0>An&&(Ko.scrollX||Ko.scrollY)){i=Xo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=i[0][0].getScreenCTM();An=!(a.f||a.e),i.remove()}return An?(s.x=e.pageX,s.y=e.pageY):(s.x=e.clientX,s.y=e.clientY),s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function U(t){return t>0?1:0>t?-1:0}function q(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function j(t){return t>1?0:-1>t?xn:Math.acos(t)}function X(t){return t>1?Ln:-1>t?-Ln:Math.asin(t)}function z(t){return((t=Math.exp(t))-1/t)/2}function Y(t){return((t=Math.exp(t))+1/t)/2}function Q(t){return((t=Math.exp(2*t))-1)/(t+1)}function $(t){return(t=Math.sin(t/2))*t}function K(){}function Z(t,e,i){return new J(t,e,i)}function J(t,e,i){this.h=t,this.s=e,this.l=i}function te(t,e,i){function s(t){return t>360?t-=360:0>t&&(t+=360),60>t?r+(o-r)*t/60:180>t?o:240>t?r+(o-r)*(240-t)/60:r}function a(t){return Math.round(255*s(t))}var r,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,i=0>i?0:i>1?1:i,o=.5>=i?i*(1+e):i+e-i*e,r=2*i-o,fe(a(t+120),a(t),a(t-120))}function ee(t,e,i){return new ie(t,e,i)}function ie(t,e,i){this.h=t,this.c=e,this.l=i}function se(t,e,i){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),ae(i,Math.cos(t*=Sn)*e,Math.sin(t)*e)}function ae(t,e,i){return new re(t,e,i)}function re(t,e,i){this.l=t,this.a=e,this.b=i}function oe(t,e,i){var s=(t+16)/116,a=s+e/500,r=s-i/200;return a=le(a)*Gn,s=le(s)*Vn,r=le(r)*Un,fe(ce(3.2404542*a-1.5371385*s-.4985314*r),ce(-.969266*a+1.8760108*s+.041556*r),ce(.0556434*a-.2040259*s+1.0572252*r))}function ne(t,e,i){return t>0?ee(Math.atan2(i,e)*Rn,Math.sqrt(e*e+i*i),t):ee(0/0,0/0,t)}function le(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function he(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ce(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function de(t){return fe(t>>16,255&t>>8,255&t)}function ue(t){return de(t)+""}function fe(t,e,i){return new pe(t,e,i)}function pe(t,e,i){this.r=t,this.g=e,this.b=i}function me(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ve(t,e,i){var s,a,r,o=0,n=0,l=0;if(s=/([a-z]+)\((.*)\)/i.exec(t))switch(a=s[2].split(","),s[1]){case"hsl":return i(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return e(ye(a[0]),ye(a[1]),ye(a[2]))}return(r=Xn.get(t))?e(r.r,r.g,r.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(o=t.charAt(1),o+=o,n=t.charAt(2),n+=n,l=t.charAt(3),l+=l):7===t.length&&(o=t.substring(1,3),n=t.substring(3,5),l=t.substring(5,7)),o=parseInt(o,16),n=parseInt(n,16),l=parseInt(l,16)),e(o,n,l))}function be(t,e,i){var s,a,r=Math.min(t/=255,e/=255,i/=255),o=Math.max(t,e,i),n=o-r,l=(o+r)/2;return n?(a=.5>l?n/(o+r):n/(2-o-r),s=t==o?(e-i)/n+(i>e?6:0):e==o?(i-t)/n+2:(t-e)/n+4,s*=60):(s=0/0,a=l>0&&1>l?0:s),Z(s,a,l)}function _e(t,e,i){t=ge(t),e=ge(e),i=ge(i);var s=he((.4124564*t+.3575761*e+.1804375*i)/Gn),a=he((.2126729*t+.7151522*e+.072175*i)/Vn),r=he((.0193339*t+.119192*e+.9503041*i)/Un);return ae(116*a-16,500*(s-a),200*(a-r))}function ge(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Te(t){return"function"==typeof t?t:function(){return t}}function we(t){return t}function Ce(t){return function(e,i,s){return 2===arguments.length&&"function"==typeof i&&(s=i,i=null),Ae(e,i,t,s)}}function Ae(t,e,i,s){function a(){var t,e=l.status;if(!e&&l.responseText||e>=200&&300>e||304===e){try{t=i.call(r,l)}catch(s){return o.error.call(r,s),void 0}o.load.call(r,t)}else o.error.call(r,l)}var r={},o=Xo.dispatch("beforesend","progress","load","error"),n={},l=new XMLHttpRequest,h=null;return!Ko.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=a:l.onreadystatechange=function(){l.readyState>3&&a()},l.onprogress=function(t){var e=Xo.event;Xo.event=t;try{o.progress.call(r,l)}finally{Xo.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?n[t]:(null==e?delete n[t]:n[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(h=t,r):h},r.response=function(t){return i=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(Yo(arguments)))}}),r.send=function(i,s,a){if(2===arguments.length&&"function"==typeof s&&(a=s,s=null),l.open(i,t,!0),null==e||"accept"in n||(n.accept=e+",*/*"),l.setRequestHeader)for(var c in n)l.setRequestHeader(c,n[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=h&&(l.responseType=h),null!=a&&r.on("error",a).on("load",function(t){a(null,t)}),o.beforesend.call(r,l),l.send(null==s?null:s),r},r.abort=function(){return l.abort(),r},Xo.rebind(r,o,"on"),null==s?r:r.get(xe(s))}function xe(t){return 1===t.length?function(e,i){t(null==e?i:null)}:t}function Fe(){var t=Le(),e=ke()-t;e>24?(isFinite(e)&&(clearTimeout($n),$n=setTimeout(Fe,e)),Qn=0):(Qn=1,Zn(Fe))}function Le(){var t=Date.now();for(Kn=zn;Kn;)t>=Kn.t&&(Kn.f=Kn.c(t-Kn.t)),Kn=Kn.n;return t}function ke(){for(var t,e=zn,i=1/0;e;)e.f?e=t?t.n=e.n:zn=e.n:(e.t<i&&(i=e.t),e=(t=e).n);return Yn=t,i}function Ie(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Se(t,e){var i=Math.pow(10,3*nn(8-e));return{scale:e>8?function(t){return t/i}:function(t){return t*i},symbol:t}}function Re(t){var e=t.decimal,i=t.thousands,s=t.grouping,a=t.currency,r=s?function(t){for(var e=t.length,a=[],r=0,o=s[0];e>0&&o>0;)a.push(t.substring(e-=o,e+o)),o=s[r=(r+1)%s.length];return a.reverse().join(i)}:we;return function(t){var i=tl.exec(t),s=i[1]||" ",o=i[2]||">",n=i[3]||"",l=i[4]||"",h=i[5],c=+i[6],d=i[7],u=i[8],f=i[9],p=1,m="",v="",b=!1;switch(u&&(u=+u.substring(1)),(h||"0"===s&&"="===o)&&(h=s="0",o="=",d&&(c-=Math.floor((c-1)/4))),f){case"n":d=!0,f="g";break;case"%":p=100,v="%",f="f";break;case"p":p=100,v="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+f.toLowerCase());case"c":case"d":b=!0,u=0;break;case"s":p=-1,f="r"}"$"===l&&(m=a[0],v=a[1]),"r"!=f||u||(f="g"),null!=u&&("g"==f?u=Math.max(1,Math.min(21,u)):("e"==f||"f"==f)&&(u=Math.max(0,Math.min(20,u)))),f=el.get(f)||De;var _=h&&d;return function(t){var i=v;if(b&&t%1)return"";var a=0>t||0===t&&0>1/t?(t=-t,"-"):n;if(0>p){var l=Xo.formatPrefix(t,u);t=l.scale(t),i=l.symbol+v}else t*=p;t=f(t,u);var g=t.lastIndexOf("."),y=0>g?t:t.substring(0,g),T=0>g?"":e+t.substring(g+1);!h&&d&&(y=r(y));var w=m.length+y.length+T.length+(_?0:a.length),C=c>w?new Array(w=c-w+1).join(s):"";return _&&(y=r(C+y)),a+=m,t=y+T,("<"===o?a+t+C:">"===o?C+a+t:"^"===o?C.substring(0,w>>=1)+a+t+C.substring(w):a+(_?t:C+t))+i}}}function De(t){return t+""}function Oe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function We(t,e,i){function s(e){var i=t(e),s=r(i,1);return s-e>e-i?i:s}function a(i){return e(i=t(new sl(i-1)),1),i}function r(t,i){return e(t=new sl(+t),i),t}function o(t,s,r){var o=a(t),n=[];if(r>1)for(;s>o;)i(o)%r||n.push(new Date(+o)),e(o,1);else for(;s>o;)n.push(new Date(+o)),e(o,1);return n}function n(t,e,i){try{sl=Oe;var s=new Oe;return s._=t,o(s,e,i)}finally{sl=Date}}t.floor=t,t.round=s,t.ceil=a,t.offset=r,t.range=o;var l=t.utc=Me(t);return l.floor=l,l.round=Me(s),l.ceil=Me(a),l.offset=Me(r),l.range=n,t}function Me(t){return function(e,i){try{sl=Oe;var s=new Oe;return s._=e,t(s,i)._}finally{sl=Date}}}function Ee(t){function e(t){function e(e){for(var i,a,r,o=[],n=-1,l=0;++n<s;)37===t.charCodeAt(n)&&(o.push(t.substring(l,n)),null!=(a=rl[i=t.charAt(++n)])&&(i=t.charAt(++n)),(r=k[i])&&(i=r(e,null==a?"e"===i?" ":"0":a)),o.push(i),l=n+1);return o.push(t.substring(l,n)),o.join("")}var s=t.length;return e.parse=function(e){var s={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=i(s,t,e,0);if(a!=e.length)return null;"p"in s&&(s.H=s.H%12+12*s.p);var r=null!=s.Z&&sl!==Oe,o=new(r?Oe:sl);return"j"in s?o.setFullYear(s.y,0,s.j):"w"in s&&("W"in s||"U"in s)?(o.setFullYear(s.y,0,1),o.setFullYear(s.y,0,"W"in s?(s.w+6)%7+7*s.W-(o.getDay()+5)%7:s.w+7*s.U-(o.getDay()+6)%7)):o.setFullYear(s.y,s.m,s.d),o.setHours(s.H+Math.floor(s.Z/100),s.M+s.Z%100,s.S,s.L),r?o._:o},e.toString=function(){return t},e}function i(t,e,i,s){for(var a,r,o,n=0,l=e.length,h=i.length;l>n;){if(s>=h)return-1;if(a=e.charCodeAt(n++),37===a){if(o=e.charAt(n++),r=I[o in rl?e.charAt(n++):o],!r||(s=r(t,i,s))<0)return-1}else if(a!=i.charCodeAt(s++))return-1}return s}function s(t,e,i){w.lastIndex=0;var s=w.exec(e.substring(i));return s?(t.w=C.get(s[0].toLowerCase()),i+s[0].length):-1}function a(t,e,i){y.lastIndex=0;var s=y.exec(e.substring(i));return s?(t.w=T.get(s[0].toLowerCase()),i+s[0].length):-1}function r(t,e,i){F.lastIndex=0;var s=F.exec(e.substring(i));return s?(t.m=L.get(s[0].toLowerCase()),i+s[0].length):-1}function o(t,e,i){A.lastIndex=0;var s=A.exec(e.substring(i));return s?(t.m=x.get(s[0].toLowerCase()),i+s[0].length):-1}function n(t,e,s){return i(t,k.c.toString(),e,s)}function l(t,e,s){return i(t,k.x.toString(),e,s)}function h(t,e,s){return i(t,k.X.toString(),e,s)}function c(t,e,i){var s=g.get(e.substring(i,i+=2).toLowerCase());return null==s?-1:(t.p=s,i)}var d=t.dateTime,u=t.date,f=t.time,p=t.periods,m=t.days,v=t.shortDays,b=t.months,_=t.shortMonths;e.utc=function(t){function i(t){try{sl=Oe;var e=new sl;return e._=t,s(e)}finally{sl=Date}}var s=e(t);return i.parse=function(t){try{sl=Oe;var e=s.parse(t);return e&&e._}finally{sl=Date}},i.toString=s.toString,i},e.multi=e.utc.multi=ii;var g=Xo.map(),y=He(m),T=Pe(m),w=He(v),C=Pe(v),A=He(b),x=Pe(b),F=He(_),L=Pe(_);p.forEach(function(t,e){g.set(t.toLowerCase(),e)});var k={a:function(t){return v[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return _[t.getMonth()]},B:function(t){return b[t.getMonth()]},c:e(d),d:function(t,e){return Be(t.getDate(),e,2)},e:function(t,e){return Be(t.getDate(),e,2)},H:function(t,e){return Be(t.getHours(),e,2)},I:function(t,e){return Be(t.getHours()%12||12,e,2)},j:function(t,e){return Be(1+il.dayOfYear(t),e,3)},L:function(t,e){return Be(t.getMilliseconds(),e,3)},m:function(t,e){return Be(t.getMonth()+1,e,2)},M:function(t,e){return Be(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Be(t.getSeconds(),e,2)},U:function(t,e){return Be(il.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Be(il.mondayOfYear(t),e,2)},x:e(u),X:e(f),y:function(t,e){return Be(t.getFullYear()%100,e,2)},Y:function(t,e){return Be(t.getFullYear()%1e4,e,4)},Z:ti,"%":function(){return"%"}},I={a:s,A:a,b:r,B:o,c:n,d:Ye,e:Ye,H:$e,I:$e,j:Qe,L:Je,m:ze,M:Ke,p:c,S:Ze,U:Ge,w:Ne,W:Ve,x:l,X:h,y:qe,Y:Ue,Z:je,"%":ei};return e}function Be(t,e,i){var s=0>t?"-":"",a=(s?-t:t)+"",r=a.length;return s+(i>r?new Array(i-r+1).join(e)+a:a)}function He(t){return new RegExp("^(?:"+t.map(Xo.requote).join("|")+")","i")}function Pe(t){for(var e=new a,i=-1,s=t.length;++i<s;)e.set(t[i].toLowerCase(),i);return e}function Ne(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+1));return s?(t.w=+s[0],i+s[0].length):-1}function Ge(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i));return s?(t.U=+s[0],i+s[0].length):-1}function Ve(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i));return s?(t.W=+s[0],i+s[0].length):-1}function Ue(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+4));return s?(t.y=+s[0],i+s[0].length):-1}function qe(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+2));return s?(t.y=Xe(+s[0]),i+s[0].length):-1}function je(t,e,i){return/^[+-]\d{4}$/.test(e=e.substring(i,i+5))?(t.Z=+e,i+5):-1}function Xe(t){return t+(t>68?1900:2e3)}function ze(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+2));return s?(t.m=s[0]-1,i+s[0].length):-1}function Ye(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+2));return s?(t.d=+s[0],i+s[0].length):-1}function Qe(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+3));return s?(t.j=+s[0],i+s[0].length):-1}function $e(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+2));return s?(t.H=+s[0],i+s[0].length):-1}function Ke(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+2));return s?(t.M=+s[0],i+s[0].length):-1}function Ze(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+2));return s?(t.S=+s[0],i+s[0].length):-1}function Je(t,e,i){ol.lastIndex=0;var s=ol.exec(e.substring(i,i+3));return s?(t.L=+s[0],i+s[0].length):-1}function ti(t){var e=t.getTimezoneOffset(),i=e>0?"-":"+",s=~~(nn(e)/60),a=nn(e)%60;return i+Be(s,"0",2)+Be(a,"0",2)}function ei(t,e,i){nl.lastIndex=0;var s=nl.exec(e.substring(i,i+1));return s?i+s[0].length:-1}function ii(t){for(var e=t.length,i=-1;++i<e;)t[i][0]=this(t[i][0]);return function(e){for(var i=0,s=t[i];!s[1](e);)s=t[++i];return s[0](e)}}function si(){}function ai(t,e,i){var s=i.s=t+e,a=s-t,r=s-a;i.t=t-r+(e-a)}function ri(t,e){t&&dl.hasOwnProperty(t.type)&&dl[t.type](t,e)}function oi(t,e,i){var s,a=-1,r=t.length-i;for(e.lineStart();++a<r;)s=t[a],e.point(s[0],s[1],s[2]);e.lineEnd()}function ni(t,e){var i=-1,s=t.length;for(e.polygonStart();++i<s;)oi(t[i],e,1);e.polygonEnd()}function li(){function t(t,e){t*=Sn,e=e*Sn/2+xn/4;var i=t-s,o=i>=0?1:-1,n=o*i,l=Math.cos(e),h=Math.sin(e),c=r*h,d=a*l+c*Math.cos(n),u=c*o*Math.sin(n);fl.add(Math.atan2(u,d)),s=t,a=l,r=h}var e,i,s,a,r;pl.point=function(o,n){pl.point=t,s=(e=o)*Sn,a=Math.cos(n=(i=n)*Sn/2+xn/4),r=Math.sin(n)},pl.lineEnd=function(){t(e,i)}}function hi(t){var e=t[0],i=t[1],s=Math.cos(i);return[s*Math.cos(e),s*Math.sin(e),Math.sin(i)]}function ci(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function di(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ui(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function fi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function pi(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function mi(t){return[Math.atan2(t[1],t[0]),X(t[2])]}function vi(t,e){return nn(t[0]-e[0])<kn&&nn(t[1]-e[1])<kn}function bi(t,e){t*=Sn;var i=Math.cos(e*=Sn);_i(i*Math.cos(t),i*Math.sin(t),Math.sin(e))}function _i(t,e,i){++ml,bl+=(t-bl)/ml,_l+=(e-_l)/ml,gl+=(i-gl)/ml}function gi(){function t(t,a){t*=Sn;var r=Math.cos(a*=Sn),o=r*Math.cos(t),n=r*Math.sin(t),l=Math.sin(a),h=Math.atan2(Math.sqrt((h=i*l-s*n)*h+(h=s*o-e*l)*h+(h=e*n-i*o)*h),e*o+i*n+s*l);vl+=h,yl+=h*(e+(e=o)),Tl+=h*(i+(i=n)),wl+=h*(s+(s=l)),_i(e,i,s)}var e,i,s;Fl.point=function(a,r){a*=Sn;var o=Math.cos(r*=Sn);e=o*Math.cos(a),i=o*Math.sin(a),s=Math.sin(r),Fl.point=t,_i(e,i,s)}}function yi(){Fl.point=bi}function Ti(){function t(t,e){t*=Sn;var i=Math.cos(e*=Sn),o=i*Math.cos(t),n=i*Math.sin(t),l=Math.sin(e),h=a*l-r*n,c=r*o-s*l,d=s*n-a*o,u=Math.sqrt(h*h+c*c+d*d),f=s*o+a*n+r*l,p=u&&-j(f)/u,m=Math.atan2(u,f);Cl+=p*h,Al+=p*c,xl+=p*d,vl+=m,yl+=m*(s+(s=o)),Tl+=m*(a+(a=n)),wl+=m*(r+(r=l)),_i(s,a,r)}var e,i,s,a,r;Fl.point=function(o,n){e=o,i=n,Fl.point=t,o*=Sn;var l=Math.cos(n*=Sn);s=l*Math.cos(o),a=l*Math.sin(o),r=Math.sin(n),_i(s,a,r)},Fl.lineEnd=function(){t(e,i),Fl.lineEnd=yi,Fl.point=bi}}function wi(){return!0}function Ci(t,e,i,s,a){var r=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i=t[0],s=t[e];if(vi(i,s)){a.lineStart();for(var n=0;e>n;++n)a.point((i=t[n])[0],i[1]);return a.lineEnd(),void 0}var l=new xi(i,t,null,!0),h=new xi(i,null,l,!1);l.o=h,r.push(l),o.push(h),l=new xi(s,t,null,!1),h=new xi(s,null,l,!0),l.o=h,r.push(l),o.push(h)}}),o.sort(e),Ai(r),Ai(o),r.length){for(var n=0,l=i,h=o.length;h>n;++n)o[n].e=l=!l;for(var c,d,u=r[0];;){for(var f=u,p=!0;f.v;)if((f=f.n)===u)return;c=f.z,a.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var n=0,h=c.length;h>n;++n)a.point((d=c[n])[0],d[1]);else s(f.x,f.n.x,1,a);f=f.n}else{if(p){c=f.p.z;for(var n=c.length-1;n>=0;--n)a.point((d=c[n])[0],d[1])}else s(f.x,f.p.x,-1,a);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);a.lineEnd()}}}function Ai(t){if(e=t.length){for(var e,i,s=0,a=t[0];++s<e;)a.n=i=t[s],i.p=a,a=i;a.n=i=t[0],i.p=a}}function xi(t,e,i,s){this.x=t,this.z=e,this.o=i,this.e=s,this.v=!1,this.n=this.p=null}function Fi(t,e,i,s){return function(a,r){function o(e,i){var s=a(e,i);t(e=s[0],i=s[1])&&r.point(e,i)}function n(t,e){var i=a(t,e);v.point(i[0],i[1])}function l(){_.point=n,v.lineStart()}function h(){_.point=o,v.lineEnd()}function c(t,e){m.push([t,e]);var i=a(t,e);y.point(i[0],i[1])}function d(){y.lineStart(),m=[]}function u(){c(m[0][0],m[0][1]),y.lineEnd();var t,e=y.clean(),i=g.buffer(),s=i.length;if(m.pop(),p.push(m),m=null,s){if(1&e){t=i[0];var a,s=t.length-1,o=-1;for(r.lineStart();++o<s;)r.point((a=t[o])[0],a[1]);return r.lineEnd(),void 0}s>1&&2&e&&i.push(i.pop().concat(i.shift())),f.push(i.filter(Li))}}var f,p,m,v=e(r),b=a.invert(s[0],s[1]),_={point:o,lineStart:l,lineEnd:h,polygonStart:function(){_.point=c,_.lineStart=d,_.lineEnd=u,f=[],p=[],r.polygonStart()},polygonEnd:function(){_.point=o,_.lineStart=l,_.lineEnd=h,f=Xo.merge(f);var t=Si(b,p);f.length?Ci(f,Ii,t,i,r):t&&(r.lineStart(),i(null,null,1,r),r.lineEnd()),r.polygonEnd(),f=p=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}},g=ki(),y=e(g);return _}}function Li(t){return t.length>1}function ki(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,i){t.push([e,i])},lineEnd:f,buffer:function(){var i=e;return e=[],t=null,i},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ii(t,e){return((t=t.x)[0]<0?t[1]-Ln-kn:Ln-t[1])-((e=e.x)[0]<0?e[1]-Ln-kn:Ln-e[1])}function Si(t,e){var i=t[0],s=t[1],a=[Math.sin(i),-Math.cos(i),0],r=0,o=0;fl.reset();for(var n=0,l=e.length;l>n;++n){var h=e[n],c=h.length;if(c)for(var d=h[0],u=d[0],f=d[1]/2+xn/4,p=Math.sin(f),m=Math.cos(f),v=1;;){v===c&&(v=0),t=h[v];var b=t[0],_=t[1]/2+xn/4,g=Math.sin(_),y=Math.cos(_),T=b-u,w=T>=0?1:-1,C=w*T,A=C>xn,x=p*g;if(fl.add(Math.atan2(x*w*Math.sin(C),m*y+x*Math.cos(C))),r+=A?T+w*Fn:T,A^u>=i^b>=i){var F=di(hi(d),hi(t));pi(F);var L=di(a,F);pi(L);var k=(A^T>=0?-1:1)*X(L[2]);(s>k||s===k&&(F[0]||F[1]))&&(o+=A^T>=0?1:-1)}if(!v++)break;u=b,p=g,m=y,d=t}}return(-kn>r||kn>r&&0>fl)^1&o}function Ri(t){var e,i=0/0,s=0/0,a=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(r,o){var n=r>0?xn:-xn,l=nn(r-i);nn(l-xn)<kn?(t.point(i,s=(s+o)/2>0?Ln:-Ln),t.point(a,s),t.lineEnd(),t.lineStart(),t.point(n,s),t.point(r,s),e=0):a!==n&&l>=xn&&(nn(i-a)<kn&&(i-=a*kn),nn(r-n)<kn&&(r-=n*kn),s=Di(i,s,r,o),t.point(a,s),t.lineEnd(),t.lineStart(),t.point(n,s),e=0),t.point(i=r,s=o),a=n},lineEnd:function(){t.lineEnd(),i=s=0/0},clean:function(){return 2-e}}}function Di(t,e,i,s){var a,r,o=Math.sin(t-i);return nn(o)>kn?Math.atan((Math.sin(e)*(r=Math.cos(s))*Math.sin(i)-Math.sin(s)*(a=Math.cos(e))*Math.sin(t))/(a*r*o)):(e+s)/2}function Oi(t,e,i,s){var a;if(null==t)a=i*Ln,s.point(-xn,a),s.point(0,a),s.point(xn,a),s.point(xn,0),s.point(xn,-a),s.point(0,-a),s.point(-xn,-a),s.point(-xn,0),s.point(-xn,a);else if(nn(t[0]-e[0])>kn){var r=t[0]<e[0]?xn:-xn;a=i*r/2,s.point(-r,a),s.point(0,a),s.point(r,a)}else s.point(e[0],e[1])}function Wi(t){function e(t,e){return Math.cos(t)*Math.cos(e)>r}function i(t){var i,r,l,h,c;return{lineStart:function(){h=l=!1,c=1},point:function(d,u){var f,p=[d,u],m=e(d,u),v=o?m?0:a(d,u):m?a(d+(0>d?xn:-xn),u):0;if(!i&&(h=l=m)&&t.lineStart(),m!==l&&(f=s(i,p),(vi(i,f)||vi(p,f))&&(p[0]+=kn,p[1]+=kn,m=e(p[0],p[1]))),m!==l)c=0,m?(t.lineStart(),f=s(p,i),t.point(f[0],f[1])):(f=s(i,p),t.point(f[0],f[1]),t.lineEnd()),i=f;else if(n&&i&&o^m){var b;v&r||!(b=s(p,i,!0))||(c=0,o?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1])))}!m||i&&vi(i,p)||t.point(p[0],p[1]),i=p,l=m,r=v},lineEnd:function(){l&&t.lineEnd(),i=null},clean:function(){return c|(h&&l)<<1}}}function s(t,e,i){var s=hi(t),a=hi(e),o=[1,0,0],n=di(s,a),l=ci(n,n),h=n[0],c=l-h*h;if(!c)return!i&&t;var d=r*l/c,u=-r*h/c,f=di(o,n),p=fi(o,d),m=fi(n,u);ui(p,m);var v=f,b=ci(p,v),_=ci(v,v),g=b*b-_*(ci(p,p)-1);if(!(0>g)){var y=Math.sqrt(g),T=fi(v,(-b-y)/_);if(ui(T,p),T=mi(T),!i)return T;var w,C=t[0],A=e[0],x=t[1],F=e[1];C>A&&(w=C,C=A,A=w);var L=A-C,k=nn(L-xn)<kn,I=k||kn>L;if(!k&&x>F&&(w=x,x=F,F=w),I?k?x+F>0^T[1]<(nn(T[0]-C)<kn?x:F):x<=T[1]&&T[1]<=F:L>xn^(C<=T[0]&&T[0]<=A)){var S=fi(v,(-b+y)/_);return ui(S,p),[T,mi(S)]}}}function a(e,i){var s=o?t:xn-t,a=0;return-s>e?a|=1:e>s&&(a|=2),-s>i?a|=4:i>s&&(a|=8),a}var r=Math.cos(t),o=r>0,n=nn(r)>kn,l=ls(t,6*Sn);return Fi(e,i,l,o?[0,-t]:[-xn,t-xn])}function Mi(t,e,i,s){return function(a){var r,o=a.a,n=a.b,l=o.x,h=o.y,c=n.x,d=n.y,u=0,f=1,p=c-l,m=d-h;if(r=t-l,p||!(r>0)){if(r/=p,0>p){if(u>r)return;f>r&&(f=r)}else if(p>0){if(r>f)return;r>u&&(u=r)}if(r=i-l,p||!(0>r)){if(r/=p,0>p){if(r>f)return;r>u&&(u=r)}else if(p>0){if(u>r)return;f>r&&(f=r)}if(r=e-h,m||!(r>0)){if(r/=m,0>m){if(u>r)return;f>r&&(f=r)}else if(m>0){if(r>f)return;r>u&&(u=r)}if(r=s-h,m||!(0>r)){if(r/=m,0>m){if(r>f)return;r>u&&(u=r)}else if(m>0){if(u>r)return;f>r&&(f=r)}return u>0&&(a.a={x:l+u*p,y:h+u*m}),1>f&&(a.b={x:l+f*p,y:h+f*m}),a}}}}}}function Ei(t,e,i,s){function a(s,a){return nn(s[0]-t)<kn?a>0?0:3:nn(s[0]-i)<kn?a>0?2:1:nn(s[1]-e)<kn?a>0?1:0:a>0?3:2}function r(t,e){return o(t.x,e.x)}function o(t,e){var i=a(t,1),s=a(e,1);return i!==s?i-s:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(n){function l(t){for(var e=0,i=v.length,s=t[1],a=0;i>a;++a)for(var r,o=1,n=v[a],l=n.length,h=n[0];l>o;++o)r=n[o],h[1]<=s?r[1]>s&&q(h,r,t)>0&&++e:r[1]<=s&&q(h,r,t)<0&&--e,h=r;return 0!==e}function h(r,n,l,h){var c=0,d=0;if(null==r||(c=a(r,l))!==(d=a(n,l))||o(r,n)<0^l>0){do h.point(0===c||3===c?t:i,c>1?s:e);while((c=(c+l+4)%4)!==d)}else h.point(n[0],n[1])}function c(a,r){return a>=t&&i>=a&&r>=e&&s>=r}function d(t,e){c(t,e)&&n.point(t,e)}function u(){I.point=p,v&&v.push(b=[]),A=!0,C=!1,T=w=0/0}function f(){m&&(p(_,g),y&&C&&L.rejoin(),m.push(L.buffer())),I.point=d,C&&n.lineEnd()}function p(t,e){t=Math.max(-kl,Math.min(kl,t)),e=Math.max(-kl,Math.min(kl,e));var i=c(t,e);if(v&&b.push([t,e]),A)_=t,g=e,y=i,A=!1,i&&(n.lineStart(),n.point(t,e));else if(i&&C)n.point(t,e);else{var s={a:{x:T,y:w},b:{x:t,y:e}};k(s)?(C||(n.lineStart(),n.point(s.a.x,s.a.y)),n.point(s.b.x,s.b.y),i||n.lineEnd(),x=!1):i&&(n.lineStart(),n.point(t,e),x=!1)}T=t,w=e,C=i}var m,v,b,_,g,y,T,w,C,A,x,F=n,L=ki(),k=Mi(t,e,i,s),I={point:d,lineStart:u,lineEnd:f,polygonStart:function(){n=L,m=[],v=[],x=!0},polygonEnd:function(){n=F,m=Xo.merge(m);var e=l([t,s]),i=x&&e,a=m.length;(i||a)&&(n.polygonStart(),i&&(n.lineStart(),h(null,null,1,n),n.lineEnd()),a&&Ci(m,r,e,h,n),n.polygonEnd()),m=v=b=null}};return I}}function Bi(t,e){function i(i,s){return i=t(i,s),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,s){return i=e.invert(i,s),i&&t.invert(i[0],i[1])}),i}function Hi(t){var e=0,i=xn/3,s=ts(t),a=s(e,i);return a.parallels=function(t){return arguments.length?s(e=t[0]*xn/180,i=t[1]*xn/180):[180*(e/xn),180*(i/xn)]},a}function Pi(t,e){function i(t,e){var i=Math.sqrt(r-2*a*Math.sin(e))/a;return[i*Math.sin(t*=a),o-i*Math.cos(t)]}var s=Math.sin(t),a=(s+Math.sin(e))/2,r=1+s*(2*a-s),o=Math.sqrt(r)/a;return i.invert=function(t,e){var i=o-e;return[Math.atan2(t,i)/a,X((r-(t*t+i*i)*a*a)/(2*a))]},i}function Ni(){function t(t,e){Sl+=a*t-s*e,s=t,a=e}var e,i,s,a;Ml.point=function(r,o){Ml.point=t,e=s=r,i=a=o},Ml.lineEnd=function(){t(e,i)}}function Gi(t,e){Rl>t&&(Rl=t),t>Ol&&(Ol=t),Dl>e&&(Dl=e),e>Wl&&(Wl=e)}function Vi(){function t(t,e){o.push("M",t,",",e,r)}function e(t,e){o.push("M",t,",",e),n.point=i}function i(t,e){o.push("L",t,",",e)}function s(){n.point=t}function a(){o.push("Z")}var r=Ui(4.5),o=[],n={point:t,lineStart:function(){n.point=e},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=t},pointRadius:function(t){return r=Ui(t),n},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return n}function Ui(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function qi(t,e){bl+=t,_l+=e,++gl}function ji(){function t(t,s){var a=t-e,r=s-i,o=Math.sqrt(a*a+r*r);yl+=o*(e+t)/2,Tl+=o*(i+s)/2,wl+=o,qi(e=t,i=s)}var e,i;Bl.point=function(s,a){Bl.point=t,qi(e=s,i=a)}}function Xi(){Bl.point=qi}function zi(){function t(t,e){var i=t-s,r=e-a,o=Math.sqrt(i*i+r*r);yl+=o*(s+t)/2,Tl+=o*(a+e)/2,wl+=o,o=a*t-s*e,Cl+=o*(s+t),Al+=o*(a+e),xl+=3*o,qi(s=t,a=e)}var e,i,s,a;Bl.point=function(r,o){Bl.point=t,qi(e=s=r,i=a=o)},Bl.lineEnd=function(){t(e,i)}}function Yi(t){function e(e,i){t.moveTo(e,i),t.arc(e,i,o,0,Fn)}function i(e,i){t.moveTo(e,i),n.point=s}function s(e,i){t.lineTo(e,i)}function a(){n.point=e}function r(){t.closePath()}var o=4.5,n={point:e,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=r},polygonEnd:function(){n.lineEnd=a,n.point=e},pointRadius:function(t){return o=t,n},result:f};return n}function Qi(t){function e(t){return(n?s:i)(t)}function i(e){return Zi(e,function(i,s){i=t(i,s),e.point(i[0],i[1])})}function s(e){function i(i,s){i=t(i,s),e.point(i[0],i[1])}function s(){g=0/0,A.point=r,e.lineStart()}function r(i,s){var r=hi([i,s]),o=t(i,s);a(g,y,_,T,w,C,g=o[0],y=o[1],_=i,T=r[0],w=r[1],C=r[2],n,e),e.point(g,y)}function o(){A.point=i,e.lineEnd()}function l(){s(),A.point=h,A.lineEnd=c}function h(t,e){r(d=t,u=e),f=g,p=y,m=T,v=w,b=C,A.point=r}function c(){a(g,y,_,T,w,C,f,p,d,m,v,b,n,e),A.lineEnd=o,o()}var d,u,f,p,m,v,b,_,g,y,T,w,C,A={point:i,lineStart:s,lineEnd:o,polygonStart:function(){e.polygonStart(),A.lineStart=l},polygonEnd:function(){e.polygonEnd(),A.lineStart=s}};return A}function a(e,i,s,n,l,h,c,d,u,f,p,m,v,b){var _=c-e,g=d-i,y=_*_+g*g;if(y>4*r&&v--){var T=n+f,w=l+p,C=h+m,A=Math.sqrt(T*T+w*w+C*C),x=Math.asin(C/=A),F=nn(nn(C)-1)<kn||nn(s-u)<kn?(s+u)/2:Math.atan2(w,T),L=t(F,x),k=L[0],I=L[1],S=k-e,R=I-i,D=g*S-_*R;(D*D/y>r||nn((_*S+g*R)/y-.5)>.3||o>n*f+l*p+h*m)&&(a(e,i,s,n,l,h,k,I,F,T/=A,w/=A,C,v,b),b.point(k,I),a(k,I,F,T,w,C,c,d,u,f,p,m,v,b))}}var r=.5,o=Math.cos(30*Sn),n=16;return e.precision=function(t){return arguments.length?(n=(r=t*t)>0&&16,e):Math.sqrt(r)},e}function $i(t){var e=Qi(function(e,i){return t([e*Rn,i*Rn])});return function(t){return es(e(t))}}function Ki(t){this.stream=t}function Zi(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ji(t){return ts(function(){return t})()}function ts(t){function e(t){return t=n(t[0]*Sn,t[1]*Sn),[t[0]*u+l,h-t[1]*u]}function i(t){return t=n.invert((t[0]-l)/u,(h-t[1])/u),t&&[t[0]*Rn,t[1]*Rn]}function s(){n=Bi(o=as(b,_,g),r);var t=r(m,v);return l=f-t[0]*u,h=p+t[1]*u,a()}function a(){return c&&(c.valid=!1,c=null),e}var r,o,n,l,h,c,d=Qi(function(t,e){return t=r(t,e),[t[0]*u+l,h-t[1]*u]}),u=150,f=480,p=250,m=0,v=0,b=0,_=0,g=0,y=Ll,T=we,w=null,C=null;return e.stream=function(t){return c&&(c.valid=!1),c=es(y(o,d(T(t)))),c.valid=!0,c
},e.clipAngle=function(t){return arguments.length?(y=null==t?(w=t,Ll):Wi((w=+t)*Sn),a()):w},e.clipExtent=function(t){return arguments.length?(C=t,T=t?Ei(t[0][0],t[0][1],t[1][0],t[1][1]):we,a()):C},e.scale=function(t){return arguments.length?(u=+t,s()):u},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],s()):[f,p]},e.center=function(t){return arguments.length?(m=t[0]%360*Sn,v=t[1]%360*Sn,s()):[m*Rn,v*Rn]},e.rotate=function(t){return arguments.length?(b=t[0]%360*Sn,_=t[1]%360*Sn,g=t.length>2?t[2]%360*Sn:0,s()):[b*Rn,_*Rn,g*Rn]},Xo.rebind(e,d,"precision"),function(){return r=t.apply(this,arguments),e.invert=r.invert&&i,s()}}function es(t){return Zi(t,function(e,i){t.point(e*Sn,i*Sn)})}function is(t,e){return[t,e]}function ss(t,e){return[t>xn?t-Fn:-xn>t?t+Fn:t,e]}function as(t,e,i){return t?e||i?Bi(os(t),ns(e,i)):os(t):e||i?ns(e,i):ss}function rs(t){return function(e,i){return e+=t,[e>xn?e-Fn:-xn>e?e+Fn:e,i]}}function os(t){var e=rs(t);return e.invert=rs(-t),e}function ns(t,e){function i(t,e){var i=Math.cos(e),n=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),c=h*s+n*a;return[Math.atan2(l*r-c*o,n*s-h*a),X(c*r+l*o)]}var s=Math.cos(t),a=Math.sin(t),r=Math.cos(e),o=Math.sin(e);return i.invert=function(t,e){var i=Math.cos(e),n=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),c=h*r-l*o;return[Math.atan2(l*r+h*o,n*s+c*a),X(c*s-n*a)]},i}function ls(t,e){var i=Math.cos(t),s=Math.sin(t);return function(a,r,o,n){var l=o*e;null!=a?(a=hs(i,a),r=hs(i,r),(o>0?r>a:a>r)&&(a+=o*Fn)):(a=t+o*Fn,r=t-.5*l);for(var h,c=a;o>0?c>r:r>c;c-=l)n.point((h=mi([i,-s*Math.cos(c),-s*Math.sin(c)]))[0],h[1])}}function hs(t,e){var i=hi(e);i[0]-=t,pi(i);var s=j(-i[1]);return((-i[2]<0?-s:s)+2*Math.PI-kn)%(2*Math.PI)}function cs(t,e,i){var s=Xo.range(t,e-kn,i).concat(e);return function(t){return s.map(function(e){return[t,e]})}}function ds(t,e,i){var s=Xo.range(t,e-kn,i).concat(e);return function(t){return s.map(function(e){return[e,t]})}}function us(t){return t.source}function fs(t){return t.target}function ps(t,e,i,s){var a=Math.cos(e),r=Math.sin(e),o=Math.cos(s),n=Math.sin(s),l=a*Math.cos(t),h=a*Math.sin(t),c=o*Math.cos(i),d=o*Math.sin(i),u=2*Math.asin(Math.sqrt($(s-e)+a*o*$(i-t))),f=1/Math.sin(u),p=u?function(t){var e=Math.sin(t*=u)*f,i=Math.sin(u-t)*f,s=i*l+e*c,a=i*h+e*d,o=i*r+e*n;return[Math.atan2(a,s)*Rn,Math.atan2(o,Math.sqrt(s*s+a*a))*Rn]}:function(){return[t*Rn,e*Rn]};return p.distance=u,p}function ms(){function t(t,a){var r=Math.sin(a*=Sn),o=Math.cos(a),n=nn((t*=Sn)-e),l=Math.cos(n);Hl+=Math.atan2(Math.sqrt((n=o*Math.sin(n))*n+(n=s*r-i*o*l)*n),i*r+s*o*l),e=t,i=r,s=o}var e,i,s;Pl.point=function(a,r){e=a*Sn,i=Math.sin(r*=Sn),s=Math.cos(r),Pl.point=t},Pl.lineEnd=function(){Pl.point=Pl.lineEnd=f}}function vs(t,e){function i(e,i){var s=Math.cos(e),a=Math.cos(i),r=t(s*a);return[r*a*Math.sin(e),r*Math.sin(i)]}return i.invert=function(t,i){var s=Math.sqrt(t*t+i*i),a=e(s),r=Math.sin(a),o=Math.cos(a);return[Math.atan2(t*r,s*o),Math.asin(s&&i*r/s)]},i}function bs(t,e){function i(t,e){var i=nn(nn(e)-Ln)<kn?0:o/Math.pow(a(e),r);return[i*Math.sin(r*t),o-i*Math.cos(r*t)]}var s=Math.cos(t),a=function(t){return Math.tan(xn/4+t/2)},r=t===e?Math.sin(t):Math.log(s/Math.cos(e))/Math.log(a(e)/a(t)),o=s*Math.pow(a(t),r)/r;return r?(i.invert=function(t,e){var i=o-e,s=U(r)*Math.sqrt(t*t+i*i);return[Math.atan2(t,i)/r,2*Math.atan(Math.pow(o/s,1/r))-Ln]},i):gs}function _s(t,e){function i(t,e){var i=r-e;return[i*Math.sin(a*t),r-i*Math.cos(a*t)]}var s=Math.cos(t),a=t===e?Math.sin(t):(s-Math.cos(e))/(e-t),r=s/a+t;return nn(a)<kn?is:(i.invert=function(t,e){var i=r-e;return[Math.atan2(t,i)/a,r-U(a)*Math.sqrt(t*t+i*i)]},i)}function gs(t,e){return[t,Math.log(Math.tan(xn/4+e/2))]}function ys(t){var e,i=Ji(t),s=i.scale,a=i.translate,r=i.clipExtent;return i.scale=function(){var t=s.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.translate=function(){var t=a.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.clipExtent=function(t){var o=r.apply(i,arguments);if(o===i){if(e=null==t){var n=xn*s(),l=a();r([[l[0]-n,l[1]-n],[l[0]+n,l[1]+n]])}}else e&&(o=null);return o},i.clipExtent(null)}function Ts(t,e){return[Math.log(Math.tan(xn/4+e/2)),-t]}function ws(t){return t[0]}function Cs(t){return t[1]}function As(t){for(var e=t.length,i=[0,1],s=2,a=2;e>a;a++){for(;s>1&&q(t[i[s-2]],t[i[s-1]],t[a])<=0;)--s;i[s++]=a}return i.slice(0,s)}function xs(t,e){return t[0]-e[0]||t[1]-e[1]}function Fs(t,e,i){return(i[0]-e[0])*(t[1]-e[1])<(i[1]-e[1])*(t[0]-e[0])}function Ls(t,e,i,s){var a=t[0],r=i[0],o=e[0]-a,n=s[0]-r,l=t[1],h=i[1],c=e[1]-l,d=s[1]-h,u=(n*(l-h)-d*(a-r))/(d*o-n*c);return[a+u*o,l+u*c]}function ks(t){var e=t[0],i=t[t.length-1];return!(e[0]-i[0]||e[1]-i[1])}function Is(){$s(this),this.edge=this.site=this.circle=null}function Ss(t){var e=Kl.pop()||new Is;return e.site=t,e}function Rs(t){Gs(t),Yl.remove(t),Kl.push(t),$s(t)}function Ds(t){var e=t.circle,i=e.x,s=e.cy,a={x:i,y:s},r=t.P,o=t.N,n=[t];Rs(t);for(var l=r;l.circle&&nn(i-l.circle.x)<kn&&nn(s-l.circle.cy)<kn;)r=l.P,n.unshift(l),Rs(l),l=r;n.unshift(l),Gs(l);for(var h=o;h.circle&&nn(i-h.circle.x)<kn&&nn(s-h.circle.cy)<kn;)o=h.N,n.push(h),Rs(h),h=o;n.push(h),Gs(h);var c,d=n.length;for(c=1;d>c;++c)h=n[c],l=n[c-1],zs(h.edge,l.site,h.site,a);l=n[0],h=n[d-1],h.edge=js(l.site,h.site,null,a),Ns(l),Ns(h)}function Os(t){for(var e,i,s,a,r=t.x,o=t.y,n=Yl._;n;)if(s=Ws(n,o)-r,s>kn)n=n.L;else{if(a=r-Ms(n,o),!(a>kn)){s>-kn?(e=n.P,i=n):a>-kn?(e=n,i=n.N):e=i=n;break}if(!n.R){e=n;break}n=n.R}var l=Ss(t);if(Yl.insert(e,l),e||i){if(e===i)return Gs(e),i=Ss(e.site),Yl.insert(l,i),l.edge=i.edge=js(e.site,l.site),Ns(e),Ns(i),void 0;if(!i)return l.edge=js(e.site,l.site),void 0;Gs(e),Gs(i);var h=e.site,c=h.x,d=h.y,u=t.x-c,f=t.y-d,p=i.site,m=p.x-c,v=p.y-d,b=2*(u*v-f*m),_=u*u+f*f,g=m*m+v*v,y={x:(v*_-f*g)/b+c,y:(u*g-m*_)/b+d};zs(i.edge,h,p,y),l.edge=js(h,t,null,y),i.edge=js(t,p,null,y),Ns(e),Ns(i)}}function Ws(t,e){var i=t.site,s=i.x,a=i.y,r=a-e;if(!r)return s;var o=t.P;if(!o)return-1/0;i=o.site;var n=i.x,l=i.y,h=l-e;if(!h)return n;var c=n-s,d=1/r-1/h,u=c/h;return d?(-u+Math.sqrt(u*u-2*d*(c*c/(-2*h)-l+h/2+a-r/2)))/d+s:(s+n)/2}function Ms(t,e){var i=t.N;if(i)return Ws(i,e);var s=t.site;return s.y===e?s.x:1/0}function Es(t){this.site=t,this.edges=[]}function Bs(t){for(var e,i,s,a,r,o,n,l,h,c,d=t[0][0],u=t[1][0],f=t[0][1],p=t[1][1],m=zl,v=m.length;v--;)if(r=m[v],r&&r.prepare())for(n=r.edges,l=n.length,o=0;l>o;)c=n[o].end(),s=c.x,a=c.y,h=n[++o%l].start(),e=h.x,i=h.y,(nn(s-e)>kn||nn(a-i)>kn)&&(n.splice(o,0,new Ys(Xs(r.site,c,nn(s-d)<kn&&p-a>kn?{x:d,y:nn(e-d)<kn?i:p}:nn(a-p)<kn&&u-s>kn?{x:nn(i-p)<kn?e:u,y:p}:nn(s-u)<kn&&a-f>kn?{x:u,y:nn(e-u)<kn?i:f}:nn(a-f)<kn&&s-d>kn?{x:nn(i-f)<kn?e:d,y:f}:null),r.site,null)),++l)}function Hs(t,e){return e.angle-t.angle}function Ps(){$s(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ns(t){var e=t.P,i=t.N;if(e&&i){var s=e.site,a=t.site,r=i.site;if(s!==r){var o=a.x,n=a.y,l=s.x-o,h=s.y-n,c=r.x-o,d=r.y-n,u=2*(l*d-h*c);if(!(u>=-In)){var f=l*l+h*h,p=c*c+d*d,m=(d*f-h*p)/u,v=(l*p-c*f)/u,d=v+n,b=Zl.pop()||new Ps;b.arc=t,b.site=a,b.x=m+o,b.y=d+Math.sqrt(m*m+v*v),b.cy=d,t.circle=b;for(var _=null,g=$l._;g;)if(b.y<g.y||b.y===g.y&&b.x<=g.x){if(!g.L){_=g.P;break}g=g.L}else{if(!g.R){_=g;break}g=g.R}$l.insert(_,b),_||(Ql=b)}}}}function Gs(t){var e=t.circle;e&&(e.P||(Ql=e.N),$l.remove(e),Zl.push(e),$s(e),t.circle=null)}function Vs(t){for(var e,i=Xl,s=Mi(t[0][0],t[0][1],t[1][0],t[1][1]),a=i.length;a--;)e=i[a],(!Us(e,t)||!s(e)||nn(e.a.x-e.b.x)<kn&&nn(e.a.y-e.b.y)<kn)&&(e.a=e.b=null,i.splice(a,1))}function Us(t,e){var i=t.b;if(i)return!0;var s,a,r=t.a,o=e[0][0],n=e[1][0],l=e[0][1],h=e[1][1],c=t.l,d=t.r,u=c.x,f=c.y,p=d.x,m=d.y,v=(u+p)/2,b=(f+m)/2;if(m===f){if(o>v||v>=n)return;if(u>p){if(r){if(r.y>=h)return}else r={x:v,y:l};i={x:v,y:h}}else{if(r){if(r.y<l)return}else r={x:v,y:h};i={x:v,y:l}}}else if(s=(u-p)/(m-f),a=b-s*v,-1>s||s>1)if(u>p){if(r){if(r.y>=h)return}else r={x:(l-a)/s,y:l};i={x:(h-a)/s,y:h}}else{if(r){if(r.y<l)return}else r={x:(h-a)/s,y:h};i={x:(l-a)/s,y:l}}else if(m>f){if(r){if(r.x>=n)return}else r={x:o,y:s*o+a};i={x:n,y:s*n+a}}else{if(r){if(r.x<o)return}else r={x:n,y:s*n+a};i={x:o,y:s*o+a}}return t.a=r,t.b=i,!0}function qs(t,e){this.l=t,this.r=e,this.a=this.b=null}function js(t,e,i,s){var a=new qs(t,e);return Xl.push(a),i&&zs(a,t,e,i),s&&zs(a,e,t,s),zl[t.i].edges.push(new Ys(a,t,e)),zl[e.i].edges.push(new Ys(a,e,t)),a}function Xs(t,e,i){var s=new qs(t,null);return s.a=e,s.b=i,Xl.push(s),s}function zs(t,e,i,s){t.a||t.b?t.l===i?t.b=s:t.a=s:(t.a=s,t.l=e,t.r=i)}function Ys(t,e,i){var s=t.a,a=t.b;this.edge=t,this.site=e,this.angle=i?Math.atan2(i.y-e.y,i.x-e.x):t.l===e?Math.atan2(a.x-s.x,s.y-a.y):Math.atan2(s.x-a.x,a.y-s.y)}function Qs(){this._=null}function $s(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ks(t,e){var i=e,s=e.R,a=i.U;a?a.L===i?a.L=s:a.R=s:t._=s,s.U=a,i.U=s,i.R=s.L,i.R&&(i.R.U=i),s.L=i}function Zs(t,e){var i=e,s=e.L,a=i.U;a?a.L===i?a.L=s:a.R=s:t._=s,s.U=a,i.U=s,i.L=s.R,i.L&&(i.L.U=i),s.R=i}function Js(t){for(;t.L;)t=t.L;return t}function ta(t,e){var i,s,a,r=t.sort(ea).pop();for(Xl=[],zl=new Array(t.length),Yl=new Qs,$l=new Qs;;)if(a=Ql,r&&(!a||r.y<a.y||r.y===a.y&&r.x<a.x))(r.x!==i||r.y!==s)&&(zl[r.i]=new Es(r),Os(r),i=r.x,s=r.y),r=t.pop();else{if(!a)break;Ds(a.arc)}e&&(Vs(e),Bs(e));var o={cells:zl,edges:Xl};return Yl=$l=Xl=zl=null,o}function ea(t,e){return e.y-t.y||e.x-t.x}function ia(t,e,i){return(t.x-i.x)*(e.y-t.y)-(t.x-e.x)*(i.y-t.y)}function sa(t){return t.x}function aa(t){return t.y}function ra(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function oa(t,e,i,s,a,r){if(!t(e,i,s,a,r)){var o=.5*(i+a),n=.5*(s+r),l=e.nodes;l[0]&&oa(t,l[0],i,s,o,n),l[1]&&oa(t,l[1],o,s,a,n),l[2]&&oa(t,l[2],i,n,o,r),l[3]&&oa(t,l[3],o,n,a,r)}}function na(t,e){t=Xo.rgb(t),e=Xo.rgb(e);var i=t.r,s=t.g,a=t.b,r=e.r-i,o=e.g-s,n=e.b-a;return function(t){return"#"+me(Math.round(i+r*t))+me(Math.round(s+o*t))+me(Math.round(a+n*t))}}function la(t,e){var i,s={},a={};for(i in t)i in e?s[i]=da(t[i],e[i]):a[i]=t[i];for(i in e)i in t||(a[i]=e[i]);return function(t){for(i in s)a[i]=s[i](t);return a}}function ha(t,e){return e-=t=+t,function(i){return t+e*i}}function ca(t,e){var i,s,a,r,o,n=0,l=0,h=[],c=[];for(t+="",e+="",th.lastIndex=0,s=0;i=th.exec(e);++s)i.index&&h.push(e.substring(n,l=i.index)),c.push({i:h.length,x:i[0]}),h.push(null),n=th.lastIndex;for(n<e.length&&h.push(e.substring(n)),s=0,r=c.length;(i=th.exec(t))&&r>s;++s)if(o=c[s],o.x==i[0]){if(o.i)if(null==h[o.i+1])for(h[o.i-1]+=o.x,h.splice(o.i,1),a=s+1;r>a;++a)c[a].i--;else for(h[o.i-1]+=o.x+h[o.i+1],h.splice(o.i,2),a=s+1;r>a;++a)c[a].i-=2;else if(null==h[o.i+1])h[o.i]=o.x;else for(h[o.i]=o.x+h[o.i+1],h.splice(o.i+1,1),a=s+1;r>a;++a)c[a].i--;c.splice(s,1),r--,s--}else o.x=ha(parseFloat(i[0]),parseFloat(o.x));for(;r>s;)o=c.pop(),null==h[o.i+1]?h[o.i]=o.x:(h[o.i]=o.x+h[o.i+1],h.splice(o.i+1,1)),r--;return 1===h.length?null==h[0]?(o=c[0].x,function(t){return o(t)+""}):function(){return e}:function(t){for(s=0;r>s;++s)h[(o=c[s]).i]=o.x(t);return h.join("")}}function da(t,e){for(var i,s=Xo.interpolators.length;--s>=0&&!(i=Xo.interpolators[s](t,e)););return i}function ua(t,e){var i,s=[],a=[],r=t.length,o=e.length,n=Math.min(t.length,e.length);for(i=0;n>i;++i)s.push(da(t[i],e[i]));for(;r>i;++i)a[i]=t[i];for(;o>i;++i)a[i]=e[i];return function(t){for(i=0;n>i;++i)a[i]=s[i](t);return a}}function fa(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function pa(t){return function(e){return 1-t(1-e)}}function ma(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function va(t){return t*t}function ba(t){return t*t*t}function _a(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(.5>t?i:3*(t-e)+i-.75)}function ga(t){return function(e){return Math.pow(e,t)}}function ya(t){return 1-Math.cos(t*Ln)}function Ta(t){return Math.pow(2,10*(t-1))}function wa(t){return 1-Math.sqrt(1-t*t)}function Ca(t,e){var i;return arguments.length<2&&(e=.45),arguments.length?i=e/Fn*Math.asin(1/t):(t=1,i=e/4),function(s){return 1+t*Math.pow(2,-10*s)*Math.sin((s-i)*Fn/e)}}function Aa(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function xa(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fa(t,e){t=Xo.hcl(t),e=Xo.hcl(e);var i=t.h,s=t.c,a=t.l,r=e.h-i,o=e.c-s,n=e.l-a;return isNaN(o)&&(o=0,s=isNaN(s)?e.c:s),isNaN(r)?(r=0,i=isNaN(i)?e.h:i):r>180?r-=360:-180>r&&(r+=360),function(t){return se(i+r*t,s+o*t,a+n*t)+""}}function La(t,e){t=Xo.hsl(t),e=Xo.hsl(e);var i=t.h,s=t.s,a=t.l,r=e.h-i,o=e.s-s,n=e.l-a;return isNaN(o)&&(o=0,s=isNaN(s)?e.s:s),isNaN(r)?(r=0,i=isNaN(i)?e.h:i):r>180?r-=360:-180>r&&(r+=360),function(t){return te(i+r*t,s+o*t,a+n*t)+""}}function ka(t,e){t=Xo.lab(t),e=Xo.lab(e);var i=t.l,s=t.a,a=t.b,r=e.l-i,o=e.a-s,n=e.b-a;return function(t){return oe(i+r*t,s+o*t,a+n*t)+""}}function Ia(t,e){return e-=t,function(i){return Math.round(t+e*i)}}function Sa(t){var e=[t.a,t.b],i=[t.c,t.d],s=Da(e),a=Ra(e,i),r=Da(Oa(i,e,-a))||0;e[0]*i[1]<i[0]*e[1]&&(e[0]*=-1,e[1]*=-1,s*=-1,a*=-1),this.rotate=(s?Math.atan2(e[1],e[0]):Math.atan2(-i[0],i[1]))*Rn,this.translate=[t.e,t.f],this.scale=[s,r],this.skew=r?Math.atan2(a,r)*Rn:0}function Ra(t,e){return t[0]*e[0]+t[1]*e[1]}function Da(t){var e=Math.sqrt(Ra(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Oa(t,e,i){return t[0]+=i*e[0],t[1]+=i*e[1],t}function Wa(t,e){var i,s=[],a=[],r=Xo.transform(t),o=Xo.transform(e),n=r.translate,l=o.translate,h=r.rotate,c=o.rotate,d=r.skew,u=o.skew,f=r.scale,p=o.scale;return n[0]!=l[0]||n[1]!=l[1]?(s.push("translate(",null,",",null,")"),a.push({i:1,x:ha(n[0],l[0])},{i:3,x:ha(n[1],l[1])})):l[0]||l[1]?s.push("translate("+l+")"):s.push(""),h!=c?(h-c>180?c+=360:c-h>180&&(h+=360),a.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:ha(h,c)})):c&&s.push(s.pop()+"rotate("+c+")"),d!=u?a.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:ha(d,u)}):u&&s.push(s.pop()+"skewX("+u+")"),f[0]!=p[0]||f[1]!=p[1]?(i=s.push(s.pop()+"scale(",null,",",null,")"),a.push({i:i-4,x:ha(f[0],p[0])},{i:i-2,x:ha(f[1],p[1])})):(1!=p[0]||1!=p[1])&&s.push(s.pop()+"scale("+p+")"),i=a.length,function(t){for(var e,r=-1;++r<i;)s[(e=a[r]).i]=e.x(t);return s.join("")}}function Ma(t,e){return e=e-(t=+t)?1/(e-t):0,function(i){return(i-t)*e}}function Ea(t,e){return e=e-(t=+t)?1/(e-t):0,function(i){return Math.max(0,Math.min(1,(i-t)*e))}}function Ba(t){for(var e=t.source,i=t.target,s=Pa(e,i),a=[e];e!==s;)e=e.parent,a.push(e);for(var r=a.length;i!==s;)a.splice(r,0,i),i=i.parent;return a}function Ha(t){for(var e=[],i=t.parent;null!=i;)e.push(t),t=i,i=i.parent;return e.push(t),e}function Pa(t,e){if(t===e)return t;for(var i=Ha(t),s=Ha(e),a=i.pop(),r=s.pop(),o=null;a===r;)o=a,a=i.pop(),r=s.pop();return o}function Na(t){t.fixed|=2}function Ga(t){t.fixed&=-7}function Va(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ua(t){t.fixed&=-5}function qa(t,e,i){var s=0,a=0;if(t.charge=0,!t.leaf)for(var r,o=t.nodes,n=o.length,l=-1;++l<n;)r=o[l],null!=r&&(qa(r,e,i),t.charge+=r.charge,s+=r.charge*r.cx,a+=r.charge*r.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var h=e*i[t.point.index];t.charge+=t.pointCharge=h,s+=h*t.point.x,a+=h*t.point.y}t.cx=s/t.charge,t.cy=a/t.charge}function ja(t,e){return Xo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Qa,t}function Xa(t){return t.children}function za(t){return t.value}function Ya(t,e){return e.value-t.value}function Qa(t){return Xo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function $a(t){return t.x}function Ka(t){return t.y}function Za(t,e,i){t.y0=e,t.y=i}function Ja(t){return Xo.range(t.length)}function tr(t){for(var e=-1,i=t[0].length,s=[];++e<i;)s[e]=0;return s}function er(t){for(var e,i=1,s=0,a=t[0][1],r=t.length;r>i;++i)(e=t[i][1])>a&&(s=i,a=e);return s}function ir(t){return t.reduce(sr,0)}function sr(t,e){return t+e[1]}function ar(t,e){return rr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function rr(t,e){for(var i=-1,s=+t[0],a=(t[1]-s)/e,r=[];++i<=e;)r[i]=a*i+s;return r}function or(t){return[Xo.min(t),Xo.max(t)]}function nr(t,e){return t.parent==e.parent?1:2}function lr(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function hr(t){var e,i=t.children;return i&&(e=i.length)?i[e-1]:t._tree.thread}function cr(t,e){var i=t.children;if(i&&(a=i.length))for(var s,a,r=-1;++r<a;)e(s=cr(i[r],e),t)>0&&(t=s);return t}function dr(t,e){return t.x-e.x}function ur(t,e){return e.x-t.x}function fr(t,e){return t.depth-e.depth}function pr(t,e){function i(t,s){var a=t.children;if(a&&(o=a.length))for(var r,o,n=null,l=-1;++l<o;)r=a[l],i(r,n),n=r;e(t,s)}i(t,null)}function mr(t){for(var e,i=0,s=0,a=t.children,r=a.length;--r>=0;)e=a[r]._tree,e.prelim+=i,e.mod+=i,i+=e.shift+(s+=e.change)}function vr(t,e,i){t=t._tree,e=e._tree;var s=i/(e.number-t.number);t.change+=s,e.change-=s,e.shift+=i,e.prelim+=i,e.mod+=i}function br(t,e,i){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:i}function _r(t,e){return t.value-e.value}function gr(t,e){var i=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=i,i._pack_prev=e}function yr(t,e){t._pack_next=e,e._pack_prev=t}function Tr(t,e){var i=e.x-t.x,s=e.y-t.y,a=t.r+e.r;return.999*a*a>i*i+s*s}function wr(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),u=Math.min(t.y-t.r,u),f=Math.max(t.y+t.r,f)}if((i=t.children)&&(h=i.length)){var i,s,a,r,o,n,l,h,c=1/0,d=-1/0,u=1/0,f=-1/0;if(i.forEach(Cr),s=i[0],s.x=-s.r,s.y=0,e(s),h>1&&(a=i[1],a.x=a.r,a.y=0,e(a),h>2))for(r=i[2],Fr(s,a,r),e(r),gr(s,r),s._pack_prev=r,gr(r,a),a=s._pack_next,o=3;h>o;o++){Fr(s,a,r=i[o]);var p=0,m=1,v=1;for(n=a._pack_next;n!==a;n=n._pack_next,m++)if(Tr(n,r)){p=1;break}if(1==p)for(l=s._pack_prev;l!==n._pack_prev&&!Tr(l,r);l=l._pack_prev,v++);p?(v>m||m==v&&a.r<s.r?yr(s,a=n):yr(s=l,a),o--):(gr(s,r),a=r,e(r))}var b=(c+d)/2,_=(u+f)/2,g=0;for(o=0;h>o;o++)r=i[o],r.x-=b,r.y-=_,g=Math.max(g,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=g,i.forEach(Ar)}}function Cr(t){t._pack_next=t._pack_prev=t}function Ar(t){delete t._pack_next,delete t._pack_prev}function xr(t,e,i,s){var a=t.children;if(t.x=e+=s*t.x,t.y=i+=s*t.y,t.r*=s,a)for(var r=-1,o=a.length;++r<o;)xr(a[r],e,i,s)}function Fr(t,e,i){var s=t.r+i.r,a=e.x-t.x,r=e.y-t.y;if(s&&(a||r)){var o=e.r+i.r,n=a*a+r*r;o*=o,s*=s;var l=.5+(s-o)/(2*n),h=Math.sqrt(Math.max(0,2*o*(s+n)-(s-=n)*s-o*o))/(2*n);i.x=t.x+l*a+h*r,i.y=t.y+l*r-h*a}else i.x=t.x+s,i.y=t.y}function Lr(t){return 1+Xo.max(t,function(t){return t.y})}function kr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ir(t){var e=t.children;return e&&e.length?Ir(e[0]):t}function Sr(t){var e,i=t.children;return i&&(e=i.length)?Sr(i[e-1]):t}function Rr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Dr(t,e){var i=t.x+e[3],s=t.y+e[0],a=t.dx-e[1]-e[3],r=t.dy-e[0]-e[2];return 0>a&&(i+=a/2,a=0),0>r&&(s+=r/2,r=0),{x:i,y:s,dx:a,dy:r}}function Or(t){var e=t[0],i=t[t.length-1];return i>e?[e,i]:[i,e]}function Wr(t){return t.rangeExtent?t.rangeExtent():Or(t.range())}function Mr(t,e,i,s){var a=i(t[0],t[1]),r=s(e[0],e[1]);return function(t){return r(a(t))}}function Er(t,e){var i,s=0,a=t.length-1,r=t[s],o=t[a];return r>o&&(i=s,s=a,a=i,i=r,r=o,o=i),t[s]=e.floor(r),t[a]=e.ceil(o),t}function Br(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:dh}function Hr(t,e,i,s){var a=[],r=[],o=0,n=Math.min(t.length,e.length)-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=n;)a.push(i(t[o-1],t[o])),r.push(s(e[o-1],e[o]));return function(e){var i=Xo.bisect(t,e,1,n)-1;return r[i](a[i](e))}}function Pr(t,e,i,s){function a(){var a=Math.min(t.length,e.length)>2?Hr:Mr,l=s?Ea:Ma;return o=a(t,e,l,i),n=a(e,t,l,da),r}function r(t){return o(t)}var o,n;return r.invert=function(t){return n(t)},r.domain=function(e){return arguments.length?(t=e.map(Number),a()):t},r.range=function(t){return arguments.length?(e=t,a()):e},r.rangeRound=function(t){return r.range(t).interpolate(Ia)},r.clamp=function(t){return arguments.length?(s=t,a()):s},r.interpolate=function(t){return arguments.length?(i=t,a()):i},r.ticks=function(e){return Ur(t,e)},r.tickFormat=function(e,i){return qr(t,e,i)},r.nice=function(e){return Gr(t,e),a()},r.copy=function(){return Pr(t,e,i,s)},a()}function Nr(t,e){return Xo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Gr(t,e){return Er(t,Br(Vr(t,e)[2]))}function Vr(t,e){null==e&&(e=10);var i=Or(t),s=i[1]-i[0],a=Math.pow(10,Math.floor(Math.log(s/e)/Math.LN10)),r=e/s*a;return.15>=r?a*=10:.35>=r?a*=5:.75>=r&&(a*=2),i[0]=Math.ceil(i[0]/a)*a,i[1]=Math.floor(i[1]/a)*a+.5*a,i[2]=a,i}function Ur(t,e){return Xo.range.apply(Xo,Vr(t,e))}function qr(t,e,i){var s=Vr(t,e);return Xo.format(i?i.replace(tl,function(t,e,i,a,r,o,n,l,h,c){return[e,i,a,r,o,n,l,h||"."+Xr(c,s),c].join("")}):",."+jr(s[2])+"f")}function jr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Xr(t,e){var i=jr(e[2]);return t in uh?Math.abs(i-jr(Math.max(Math.abs(e[0]),Math.abs(e[1]))))+ +("e"!==t):i-2*("%"===t)}function zr(t,e,i,s){function a(t){return(i?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function r(t){return i?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(a(e))}return o.invert=function(e){return r(t.invert(e))},o.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((s=e.map(Number)).map(a)),o):s},o.base=function(i){return arguments.length?(e=+i,t.domain(s.map(a)),o):e},o.nice=function(){var e=Er(s.map(a),i?Math:ph);return t.domain(e),s=e.map(r),o},o.ticks=function(){var t=Or(s),o=[],n=t[0],l=t[1],h=Math.floor(a(n)),c=Math.ceil(a(l)),d=e%1?2:e;if(isFinite(c-h)){if(i){for(;c>h;h++)for(var u=1;d>u;u++)o.push(r(h)*u);o.push(r(h))}else for(o.push(r(h));h++<c;)for(var u=d-1;u>0;u--)o.push(r(h)*u);for(h=0;o[h]<n;h++);for(c=o.length;o[c-1]>l;c--);o=o.slice(h,c)}return o},o.tickFormat=function(t,e){if(!arguments.length)return fh;arguments.length<2?e=fh:"function"!=typeof e&&(e=Xo.format(e));var s,n=Math.max(.1,t/o.ticks().length),l=i?(s=1e-12,Math.ceil):(s=-1e-12,Math.floor);return function(t){return t/r(l(a(t)+s))<=n?e(t):""}},o.copy=function(){return zr(t.copy(),e,i,s)},Nr(o,t)}function Yr(t,e,i){function s(e){return t(a(e))}var a=Qr(e),r=Qr(1/e);return s.invert=function(e){return r(t.invert(e))},s.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(a)),s):i},s.ticks=function(t){return Ur(i,t)},s.tickFormat=function(t,e){return qr(i,t,e)},s.nice=function(t){return s.domain(Gr(i,t))},s.exponent=function(o){return arguments.length?(a=Qr(e=o),r=Qr(1/e),t.domain(i.map(a)),s):e},s.copy=function(){return Yr(t.copy(),e,i)},Nr(s,t)}function Qr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function $r(t,e){function i(i){return o[((r.get(i)||"range"===e.t&&r.set(i,t.push(i)))-1)%o.length]}function s(e,i){return Xo.range(t.length).map(function(t){return e+i*t})}var r,o,n;return i.domain=function(s){if(!arguments.length)return t;t=[],r=new a;for(var o,n=-1,l=s.length;++n<l;)r.has(o=s[n])||r.set(o,t.push(o));return i[e.t].apply(i,e.a)},i.range=function(t){return arguments.length?(o=t,n=0,e={t:"range",a:arguments},i):o},i.rangePoints=function(a,r){arguments.length<2&&(r=0);var l=a[0],h=a[1],c=(h-l)/(Math.max(1,t.length-1)+r);return o=s(t.length<2?(l+h)/2:l+c*r/2,c),n=0,e={t:"rangePoints",a:arguments},i},i.rangeBands=function(a,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var h=a[1]<a[0],c=a[h-0],d=a[1-h],u=(d-c)/(t.length-r+2*l);return o=s(c+u*l,u),h&&o.reverse(),n=u*(1-r),e={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(a,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var h=a[1]<a[0],c=a[h-0],d=a[1-h],u=Math.floor((d-c)/(t.length-r+2*l)),f=d-c-(t.length-r)*u;return o=s(c+Math.round(f/2),u),h&&o.reverse(),n=Math.round(u*(1-r)),e={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return n},i.rangeExtent=function(){return Or(e.a[0])},i.copy=function(){return $r(t,e)},i.domain(t)}function Kr(t,e){function i(){var i=0,r=e.length;for(a=[];++i<r;)a[i-1]=Xo.quantile(t,i/r);return s}function s(t){return isNaN(t=+t)?void 0:e[Xo.bisect(a,t)]}var a;return s.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(Xo.ascending),i()):t},s.range=function(t){return arguments.length?(e=t,i()):e},s.quantiles=function(){return a},s.invertExtent=function(i){return i=e.indexOf(i),0>i?[0/0,0/0]:[i>0?a[i-1]:t[0],i<a.length?a[i]:t[t.length-1]]},s.copy=function(){return Kr(t,e)},i()}function Zr(t,e,i){function s(e){return i[Math.max(0,Math.min(o,Math.floor(r*(e-t))))]}function a(){return r=i.length/(e-t),o=i.length-1,s}var r,o;return s.domain=function(i){return arguments.length?(t=+i[0],e=+i[i.length-1],a()):[t,e]},s.range=function(t){return arguments.length?(i=t,a()):i},s.invertExtent=function(e){return e=i.indexOf(e),e=0>e?0/0:e/r+t,[e,e+1/r]},s.copy=function(){return Zr(t,e,i)},a()}function Jr(t,e){function i(i){return i>=i?e[Xo.bisect(t,i)]:void 0}return i.domain=function(e){return arguments.length?(t=e,i):t},i.range=function(t){return arguments.length?(e=t,i):e},i.invertExtent=function(i){return i=e.indexOf(i),[t[i-1],t[i]]},i.copy=function(){return Jr(t,e)},i}function to(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(t=i.map(e),e):t},e.ticks=function(e){return Ur(t,e)},e.tickFormat=function(e,i){return qr(t,e,i)},e.copy=function(){return to(t)},e}function eo(t){return t.innerRadius}function io(t){return t.outerRadius}function so(t){return t.startAngle}function ao(t){return t.endAngle}function ro(t){function e(e){function o(){h.push("M",r(t(c),n))}for(var l,h=[],c=[],d=-1,u=e.length,f=Te(i),p=Te(s);++d<u;)a.call(this,l=e[d],d)?c.push([+f.call(this,l,d),+p.call(this,l,d)]):c.length&&(o(),c=[]);return c.length&&o(),h.length?h.join(""):null}var i=ws,s=Cs,a=wi,r=oo,o=r.key,n=.7;return e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(s=t,e):s},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?r=t:(r=Th.get(t)||oo).key,e):o},e.tension=function(t){return arguments.length?(n=t,e):n},e}function oo(t){return t.join("L")}function no(t){return oo(t)+"Z"}function lo(t){for(var e=0,i=t.length,s=t[0],a=[s[0],",",s[1]];++e<i;)a.push("H",(s[0]+(s=t[e])[0])/2,"V",s[1]);return i>1&&a.push("H",s[0]),a.join("")}function ho(t){for(var e=0,i=t.length,s=t[0],a=[s[0],",",s[1]];++e<i;)a.push("V",(s=t[e])[1],"H",s[0]);return a.join("")}function co(t){for(var e=0,i=t.length,s=t[0],a=[s[0],",",s[1]];++e<i;)a.push("H",(s=t[e])[0],"V",s[1]);return a.join("")}function uo(t,e){return t.length<4?oo(t):t[1]+mo(t.slice(1,t.length-1),vo(t,e))}function fo(t,e){return t.length<3?oo(t):t[0]+mo((t.push(t[0]),t),vo([t[t.length-2]].concat(t,[t[1]]),e))}function po(t,e){return t.length<3?oo(t):t[0]+mo(t,vo(t,e))}function mo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return oo(t);var i=t.length!=e.length,s="",a=t[0],r=t[1],o=e[0],n=o,l=1;if(i&&(s+="Q"+(r[0]-2*o[0]/3)+","+(r[1]-2*o[1]/3)+","+r[0]+","+r[1],a=t[1],l=2),e.length>1){n=e[1],r=t[l],l++,s+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(r[0]-n[0])+","+(r[1]-n[1])+","+r[0]+","+r[1];for(var h=2;h<e.length;h++,l++)r=t[l],n=e[h],s+="S"+(r[0]-n[0])+","+(r[1]-n[1])+","+r[0]+","+r[1]}if(i){var c=t[l];s+="Q"+(r[0]+2*n[0]/3)+","+(r[1]+2*n[1]/3)+","+c[0]+","+c[1]}return s}function vo(t,e){for(var i,s=[],a=(1-e)/2,r=t[0],o=t[1],n=1,l=t.length;++n<l;)i=r,r=o,o=t[n],s.push([a*(o[0]-i[0]),a*(o[1]-i[1])]);return s}function bo(t){if(t.length<3)return oo(t);var e=1,i=t.length,s=t[0],a=s[0],r=s[1],o=[a,a,a,(s=t[1])[0]],n=[r,r,r,s[1]],l=[a,",",r,"L",To(Ah,o),",",To(Ah,n)];for(t.push(t[i-1]);++e<=i;)s=t[e],o.shift(),o.push(s[0]),n.shift(),n.push(s[1]),wo(l,o,n);return t.pop(),l.push("L",s),l.join("")}function _o(t){if(t.length<4)return oo(t);for(var e,i=[],s=-1,a=t.length,r=[0],o=[0];++s<3;)e=t[s],r.push(e[0]),o.push(e[1]);for(i.push(To(Ah,r)+","+To(Ah,o)),--s;++s<a;)e=t[s],r.shift(),r.push(e[0]),o.shift(),o.push(e[1]),wo(i,r,o);return i.join("")}function go(t){for(var e,i,s=-1,a=t.length,r=a+4,o=[],n=[];++s<4;)i=t[s%a],o.push(i[0]),n.push(i[1]);for(e=[To(Ah,o),",",To(Ah,n)],--s;++s<r;)i=t[s%a],o.shift(),o.push(i[0]),n.shift(),n.push(i[1]),wo(e,o,n);return e.join("")}function yo(t,e){var i=t.length-1;if(i)for(var s,a,r=t[0][0],o=t[0][1],n=t[i][0]-r,l=t[i][1]-o,h=-1;++h<=i;)s=t[h],a=h/i,s[0]=e*s[0]+(1-e)*(r+a*n),s[1]=e*s[1]+(1-e)*(o+a*l);return bo(t)}function To(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function wo(t,e,i){t.push("C",To(wh,e),",",To(wh,i),",",To(Ch,e),",",To(Ch,i),",",To(Ah,e),",",To(Ah,i))}function Co(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ao(t){for(var e=0,i=t.length-1,s=[],a=t[0],r=t[1],o=s[0]=Co(a,r);++e<i;)s[e]=(o+(o=Co(a=r,r=t[e+1])))/2;return s[e]=o,s}function xo(t){for(var e,i,s,a,r=[],o=Ao(t),n=-1,l=t.length-1;++n<l;)e=Co(t[n],t[n+1]),nn(e)<kn?o[n]=o[n+1]=0:(i=o[n]/e,s=o[n+1]/e,a=i*i+s*s,a>9&&(a=3*e/Math.sqrt(a),o[n]=a*i,o[n+1]=a*s));for(n=-1;++n<=l;)a=(t[Math.min(l,n+1)][0]-t[Math.max(0,n-1)][0])/(6*(1+o[n]*o[n])),r.push([a||0,o[n]*a||0]);return r}function Fo(t){return t.length<3?oo(t):t[0]+mo(t,xo(t))}function Lo(t){for(var e,i,s,a=-1,r=t.length;++a<r;)e=t[a],i=e[0],s=e[1]+gh,e[0]=i*Math.cos(s),e[1]=i*Math.sin(s);return t}function ko(t){function e(e){function l(){m.push("M",n(t(b),d),c,h(t(v.reverse()),d),"Z")}for(var u,f,p,m=[],v=[],b=[],_=-1,g=e.length,y=Te(i),T=Te(a),w=i===s?function(){return f}:Te(s),C=a===r?function(){return p}:Te(r);++_<g;)o.call(this,u=e[_],_)?(v.push([f=+y.call(this,u,_),p=+T.call(this,u,_)]),b.push([+w.call(this,u,_),+C.call(this,u,_)])):v.length&&(l(),v=[],b=[]);return v.length&&l(),m.length?m.join(""):null}var i=ws,s=ws,a=0,r=Cs,o=wi,n=oo,l=n.key,h=n,c="L",d=.7;return e.x=function(t){return arguments.length?(i=s=t,e):s},e.x0=function(t){return arguments.length?(i=t,e):i},e.x1=function(t){return arguments.length?(s=t,e):s},e.y=function(t){return arguments.length?(a=r=t,e):r},e.y0=function(t){return arguments.length?(a=t,e):a},e.y1=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?n=t:(n=Th.get(t)||oo).key,h=n.reverse||n,c=n.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function Io(t){return t.radius}function So(t){return[t.x,t.y]}function Ro(t){return function(){var e=t.apply(this,arguments),i=e[0],s=e[1]+gh;return[i*Math.cos(s),i*Math.sin(s)]}}function Do(){return 64}function Oo(){return"circle"}function Wo(t){var e=Math.sqrt(t/xn);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Mo(t,e){return un(t,Sh),t.id=e,t}function Eo(t,e,i,s){var a=t.id;return W(t,"function"==typeof i?function(t,r,o){t.__transition__[a].tween.set(e,s(i.call(t,t.__data__,r,o)))}:(i=s(i),function(t){t.__transition__[a].tween.set(e,i)}))}function Bo(t){return null==t&&(t=""),function(){this.textContent=t}}function Ho(t,e,i,s){var r=t.__transition__||(t.__transition__={active:0,count:0}),o=r[i];if(!o){var n=s.time;o=r[i]={tween:new a,time:n,ease:s.ease,delay:s.delay,duration:s.duration},++r.count,Xo.timer(function(s){function a(s){return r.active>i?h():(r.active=i,o.event&&o.event.start.call(t,c,e),o.tween.forEach(function(i,s){(s=s.call(t,c,e))&&m.push(s)}),Xo.timer(function(){return p.c=l(s||1)?wi:l,1},0,n),void 0)}function l(s){if(r.active!==i)return h();for(var a=s/f,n=d(a),l=m.length;l>0;)m[--l].call(t,n);return a>=1?(o.event&&o.event.end.call(t,c,e),h()):void 0}function h(){return--r.count?delete r[i]:delete t.__transition__,1}var c=t.__data__,d=o.ease,u=o.delay,f=o.duration,p=Kn,m=[];return p.t=u+n,s>=u?a(s-u):(p.c=a,void 0)},0,n)}}function Po(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function No(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Go(t){return t.toISOString()}function Vo(t,e,i){function s(e){return t(e)}function a(t,i){var s=t[1]-t[0],a=s/i,r=Xo.bisect(Ph,a);
return r==Ph.length?[e.year,Vr(t.map(function(t){return t/31536e6}),i)[2]]:r?e[a/Ph[r-1]<Ph[r]/a?r-1:r]:[Vh,Vr(t,i)[2]]}return s.invert=function(e){return Uo(t.invert(e))},s.domain=function(e){return arguments.length?(t.domain(e),s):t.domain().map(Uo)},s.nice=function(t,e){function i(i){return!isNaN(i)&&!t.range(i,Uo(+i+1),e).length}var r=s.domain(),o=Or(r),n=null==t?a(o,10):"number"==typeof t&&a(o,t);return n&&(t=n[0],e=n[1]),s.domain(Er(r,e>1?{floor:function(e){for(;i(e=t.floor(e));)e=Uo(e-1);return e},ceil:function(e){for(;i(e=t.ceil(e));)e=Uo(+e+1);return e}}:t))},s.ticks=function(t,e){var i=Or(s.domain()),r=null==t?a(i,10):"number"==typeof t?a(i,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(i[0],Uo(+i[1]+1),1>e?1:e)},s.tickFormat=function(){return i},s.copy=function(){return Vo(t.copy(),e,i)},Nr(s,t)}function Uo(t){return new Date(t)}function qo(t){return JSON.parse(t.responseText)}function jo(t){var e=Qo.createRange();return e.selectNode(Qo.body),e.createContextualFragment(t.responseText)}var Xo={version:"3.4.3"};Date.now||(Date.now=function(){return+new Date});var zo=[].slice,Yo=function(t){return zo.call(t)},Qo=document,$o=Qo.documentElement,Ko=window;try{Yo($o.childNodes)[0].nodeType}catch(Zo){Yo=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}}try{Qo.createElement("div").style.setProperty("opacity",0,"")}catch(Jo){var tn=Ko.Element.prototype,en=tn.setAttribute,sn=tn.setAttributeNS,an=Ko.CSSStyleDeclaration.prototype,rn=an.setProperty;tn.setAttribute=function(t,e){en.call(this,t,e+"")},tn.setAttributeNS=function(t,e,i){sn.call(this,t,e,i+"")},an.setProperty=function(t,e,i){rn.call(this,t,e+"",i)}}Xo.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:0/0},Xo.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},Xo.min=function(t,e){var i,s,a=-1,r=t.length;if(1===arguments.length){for(;++a<r&&!(null!=(i=t[a])&&i>=i);)i=void 0;for(;++a<r;)null!=(s=t[a])&&i>s&&(i=s)}else{for(;++a<r&&!(null!=(i=e.call(t,t[a],a))&&i>=i);)i=void 0;for(;++a<r;)null!=(s=e.call(t,t[a],a))&&i>s&&(i=s)}return i},Xo.max=function(t,e){var i,s,a=-1,r=t.length;if(1===arguments.length){for(;++a<r&&!(null!=(i=t[a])&&i>=i);)i=void 0;for(;++a<r;)null!=(s=t[a])&&s>i&&(i=s)}else{for(;++a<r&&!(null!=(i=e.call(t,t[a],a))&&i>=i);)i=void 0;for(;++a<r;)null!=(s=e.call(t,t[a],a))&&s>i&&(i=s)}return i},Xo.extent=function(t,e){var i,s,a,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&!(null!=(i=a=t[r])&&i>=i);)i=a=void 0;for(;++r<o;)null!=(s=t[r])&&(i>s&&(i=s),s>a&&(a=s))}else{for(;++r<o&&!(null!=(i=a=e.call(t,t[r],r))&&i>=i);)i=void 0;for(;++r<o;)null!=(s=e.call(t,t[r],r))&&(i>s&&(i=s),s>a&&(a=s))}return[i,a]},Xo.sum=function(t,e){var i,s=0,a=t.length,r=-1;if(1===arguments.length)for(;++r<a;)isNaN(i=+t[r])||(s+=i);else for(;++r<a;)isNaN(i=+e.call(t,t[r],r))||(s+=i);return s},Xo.mean=function(e,i){var s,a=e.length,r=0,o=-1,n=0;if(1===arguments.length)for(;++o<a;)t(s=e[o])&&(r+=(s-r)/++n);else for(;++o<a;)t(s=i.call(e,e[o],o))&&(r+=(s-r)/++n);return n?r:void 0},Xo.quantile=function(t,e){var i=(t.length-1)*e+1,s=Math.floor(i),a=+t[s-1],r=i-s;return r?a+r*(t[s]-a):a},Xo.median=function(e,i){return arguments.length>1&&(e=e.map(i)),e=e.filter(t),e.length?Xo.quantile(e.sort(Xo.ascending),.5):void 0},Xo.bisector=function(t){return{left:function(e,i,s,a){for(arguments.length<3&&(s=0),arguments.length<4&&(a=e.length);a>s;){var r=s+a>>>1;t.call(e,e[r],r)<i?s=r+1:a=r}return s},right:function(e,i,s,a){for(arguments.length<3&&(s=0),arguments.length<4&&(a=e.length);a>s;){var r=s+a>>>1;i<t.call(e,e[r],r)?a=r:s=r+1}return s}}};var on=Xo.bisector(function(t){return t});Xo.bisectLeft=on.left,Xo.bisect=Xo.bisectRight=on.right,Xo.shuffle=function(t){for(var e,i,s=t.length;s;)i=0|Math.random()*s--,e=t[s],t[s]=t[i],t[i]=e;return t},Xo.permute=function(t,e){for(var i=e.length,s=new Array(i);i--;)s[i]=t[e[i]];return s},Xo.pairs=function(t){for(var e,i=0,s=t.length-1,a=t[0],r=new Array(0>s?0:s);s>i;)r[i]=[e=a,a=t[++i]];return r},Xo.zip=function(){if(!(a=arguments.length))return[];for(var t=-1,i=Xo.min(arguments,e),s=new Array(i);++t<i;)for(var a,r=-1,o=s[t]=new Array(a);++r<a;)o[r]=arguments[r][t];return s},Xo.transpose=function(t){return Xo.zip.apply(Xo,t)},Xo.keys=function(t){var e=[];for(var i in t)e.push(i);return e},Xo.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},Xo.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},Xo.merge=function(t){for(var e,i,s,a=t.length,r=-1,o=0;++r<a;)o+=t[r].length;for(i=new Array(o);--a>=0;)for(s=t[a],e=s.length;--e>=0;)i[--o]=s[e];return i};var nn=Math.abs;Xo.range=function(t,e,s){if(arguments.length<3&&(s=1,arguments.length<2&&(e=t,t=0)),1/0===(e-t)/s)throw new Error("infinite range");var a,r=[],o=i(nn(s)),n=-1;if(t*=o,e*=o,s*=o,0>s)for(;(a=t+s*++n)>e;)r.push(a/o);else for(;(a=t+s*++n)<e;)r.push(a/o);return r},Xo.map=function(t){var e=new a;if(t instanceof a)t.forEach(function(t,i){e.set(t,i)});else for(var i in t)e.set(i,t[i]);return e},s(a,{has:r,get:function(t){return this[ln+t]},set:function(t,e){return this[ln+t]=e},remove:o,keys:n,values:function(){var t=[];return this.forEach(function(e,i){t.push(i)}),t},entries:function(){var t=[];return this.forEach(function(e,i){t.push({key:e,value:i})}),t},size:l,empty:h,forEach:function(t){for(var e in this)e.charCodeAt(0)===hn&&t.call(this,e.substring(1),this[e])}});var ln="\0",hn=ln.charCodeAt(0);Xo.nest=function(){function t(e,n,l){if(l>=o.length)return s?s.call(r,n):i?n.sort(i):n;for(var h,c,d,u,f=-1,p=n.length,m=o[l++],v=new a;++f<p;)(u=v.get(h=m(c=n[f])))?u.push(c):v.set(h,[c]);return e?(c=e(),d=function(i,s){c.set(i,t(e,s,l))}):(c={},d=function(i,s){c[i]=t(e,s,l)}),v.forEach(d),c}function e(t,i){if(i>=o.length)return t;var s=[],a=n[i++];return t.forEach(function(t,a){s.push({key:t,values:e(a,i)})}),a?s.sort(function(t,e){return a(t.key,e.key)}):s}var i,s,r={},o=[],n=[];return r.map=function(e,i){return t(i,e,0)},r.entries=function(i){return e(t(Xo.map,i,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return n[o.length-1]=t,r},r.sortValues=function(t){return i=t,r},r.rollup=function(t){return s=t,r},r},Xo.set=function(t){var e=new c;if(t)for(var i=0,s=t.length;s>i;++i)e.add(t[i]);return e},s(c,{has:r,add:function(t){return this[ln+t]=!0,t},remove:function(t){return t=ln+t,t in this&&delete this[t]},values:n,size:l,empty:h,forEach:function(t){for(var e in this)e.charCodeAt(0)===hn&&t.call(this,e.substring(1))}}),Xo.behavior={},Xo.rebind=function(t,e){for(var i,s=1,a=arguments.length;++s<a;)t[i=arguments[s]]=d(t,e,e[i]);return t};var cn=["webkit","ms","moz","Moz","o","O"];Xo.dispatch=function(){for(var t=new p,e=-1,i=arguments.length;++e<i;)t[arguments[e]]=m(t);return t},p.prototype.on=function(t,e){var i=t.indexOf("."),s="";if(i>=0&&(s=t.substring(i+1),t=t.substring(0,i)),t)return arguments.length<2?this[t].on(s):this[t].on(s,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(s,null);return this}},Xo.event=null,Xo.requote=function(t){return t.replace(dn,"\\$&")};var dn=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,un={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)t[i]=e[i]},fn=function(t,e){return e.querySelector(t)},pn=function(t,e){return e.querySelectorAll(t)},mn=$o[u($o,"matchesSelector")],vn=function(t,e){return mn.call(t,e)};"function"==typeof Sizzle&&(fn=function(t,e){return Sizzle(t,e)[0]||null},pn=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},vn=Sizzle.matchesSelector),Xo.selection=function(){return yn};var bn=Xo.selection.prototype=[];bn.select=function(t){var e,i,s,a,r=[];t=y(t);for(var o=-1,n=this.length;++o<n;){r.push(e=[]),e.parentNode=(s=this[o]).parentNode;for(var l=-1,h=s.length;++l<h;)(a=s[l])?(e.push(i=t.call(a,a.__data__,l,o)),i&&"__data__"in a&&(i.__data__=a.__data__)):e.push(null)}return g(r)},bn.selectAll=function(t){var e,i,s=[];t=T(t);for(var a=-1,r=this.length;++a<r;)for(var o=this[a],n=-1,l=o.length;++n<l;)(i=o[n])&&(s.push(e=Yo(t.call(i,i.__data__,n,a))),e.parentNode=i);return g(s)};var _n={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Xo.ns={prefix:_n,qualify:function(t){var e=t.indexOf(":"),i=t;return e>=0&&(i=t.substring(0,e),t=t.substring(e+1)),_n.hasOwnProperty(i)?{space:_n[i],local:t}:t}},bn.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node();return t=Xo.ns.qualify(t),t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}for(e in t)this.each(w(e,t[e]));return this}return this.each(w(t,e))},bn.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node(),s=(t=x(t)).length,a=-1;if(e=i.classList){for(;++a<s;)if(!e.contains(t[a]))return!1}else for(e=i.getAttribute("class");++a<s;)if(!A(t[a]).test(e))return!1;return!0}for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},bn.style=function(t,e,i){var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(e="");for(i in t)this.each(k(i,t[i],e));return this}if(2>s)return Ko.getComputedStyle(this.node(),null).getPropertyValue(t);i=""}return this.each(k(t,e,i))},bn.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},bn.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},bn.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},bn.append=function(t){return t=S(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},bn.insert=function(t,e){return t=S(t),e=y(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},bn.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},bn.data=function(t,e){function i(t,i){var s,r,o,n=t.length,d=i.length,u=Math.min(n,d),f=new Array(d),p=new Array(d),m=new Array(n);if(e){var v,b=new a,_=new a,g=[];for(s=-1;++s<n;)v=e.call(r=t[s],r.__data__,s),b.has(v)?m[s]=r:b.set(v,r),g.push(v);for(s=-1;++s<d;)v=e.call(i,o=i[s],s),(r=b.get(v))?(f[s]=r,r.__data__=o):_.has(v)||(p[s]=R(o)),_.set(v,o),b.remove(v);for(s=-1;++s<n;)b.has(g[s])&&(m[s]=t[s])}else{for(s=-1;++s<u;)r=t[s],o=i[s],r?(r.__data__=o,f[s]=r):p[s]=R(o);for(;d>s;++s)p[s]=R(i[s]);for(;n>s;++s)m[s]=t[s]}p.update=f,p.parentNode=f.parentNode=m.parentNode=t.parentNode,l.push(p),h.push(f),c.push(m)}var s,r,o=-1,n=this.length;if(!arguments.length){for(t=new Array(n=(s=this[0]).length);++o<n;)(r=s[o])&&(t[o]=r.__data__);return t}var l=M([]),h=g([]),c=g([]);if("function"==typeof t)for(;++o<n;)i(s=this[o],t.call(s,s.parentNode.__data__,o));else for(;++o<n;)i(s=this[o],t);return h.enter=function(){return l},h.exit=function(){return c},h},bn.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},bn.filter=function(t){var e,i,s,a=[];"function"!=typeof t&&(t=D(t));for(var r=0,o=this.length;o>r;r++){a.push(e=[]),e.parentNode=(i=this[r]).parentNode;for(var n=0,l=i.length;l>n;n++)(s=i[n])&&t.call(s,s.__data__,n,r)&&e.push(s)}return g(a)},bn.order=function(){for(var t=-1,e=this.length;++t<e;)for(var i,s=this[t],a=s.length-1,r=s[a];--a>=0;)(i=s[a])&&(r&&r!==i.nextSibling&&r.parentNode.insertBefore(i,r),r=i);return this},bn.sort=function(t){t=O.apply(this,arguments);for(var e=-1,i=this.length;++e<i;)this[e].sort(t);return this.order()},bn.each=function(t){return W(this,function(e,i,s){t.call(e,e.__data__,i,s)})},bn.call=function(t){var e=Yo(arguments);return t.apply(e[0]=this,e),this},bn.empty=function(){return!this.node()},bn.node=function(){for(var t=0,e=this.length;e>t;t++)for(var i=this[t],s=0,a=i.length;a>s;s++){var r=i[s];if(r)return r}return null},bn.size=function(){var t=0;return this.each(function(){++t}),t};var gn=[];Xo.selection.enter=M,Xo.selection.enter.prototype=gn,gn.append=bn.append,gn.empty=bn.empty,gn.node=bn.node,gn.call=bn.call,gn.size=bn.size,gn.select=function(t){for(var e,i,s,a,r,o=[],n=-1,l=this.length;++n<l;){s=(a=this[n]).update,o.push(e=[]),e.parentNode=a.parentNode;for(var h=-1,c=a.length;++h<c;)(r=a[h])?(e.push(s[h]=i=t.call(a.parentNode,r.__data__,h,n)),i.__data__=r.__data__):e.push(null)}return g(o)},gn.insert=function(t,e){return arguments.length<2&&(e=E(this)),bn.insert.call(this,t,e)},bn.transition=function(){for(var t,e,i=Fh||++Rh,s=[],a=Lh||{time:Date.now(),ease:_a,delay:0,duration:250},r=-1,o=this.length;++r<o;){s.push(t=[]);for(var n=this[r],l=-1,h=n.length;++l<h;)(e=n[l])&&Ho(e,l,i,a),t.push(e)}return Mo(s,i)},bn.interrupt=function(){return this.each(B)},Xo.select=function(t){var e=["string"==typeof t?fn(t,Qo):t];return e.parentNode=$o,g([e])},Xo.selectAll=function(t){var e=Yo("string"==typeof t?pn(t,Qo):t);return e.parentNode=$o,g([e])};var yn=Xo.select($o);bn.on=function(t,e,i){var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(e=!1);for(i in t)this.each(H(i,t[i],e));return this}if(2>s)return(s=this.node()["__on"+t])&&s._;i=!1}return this.each(H(t,e,i))};var Tn=Xo.map({mouseenter:"mouseover",mouseleave:"mouseout"});Tn.forEach(function(t){"on"+t in Qo&&Tn.remove(t)});var wn="onselectstart"in Qo?null:u($o.style,"userSelect"),Cn=0;Xo.mouse=function(t){return V(t,b())};var An=/WebKit/.test(Ko.navigator.userAgent)?-1:0;Xo.touches=function(t,e){return arguments.length<2&&(e=b().touches),e?Yo(e).map(function(e){var i=V(t,e);return i.identifier=e.identifier,i}):[]},Xo.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",n)}function e(){return Xo.event.changedTouches[0].identifier}function i(t,e){return Xo.touches(t).filter(function(t){return t.identifier===e})[0]}function s(t,e,i,s){return function(){function o(){var t=e(c,f),i=t[0]-m[0],s=t[1]-m[1];v|=i|s,m=t,d({type:"drag",x:t[0]+l[0],y:t[1]+l[1],dx:i,dy:s})}function n(){b.on(i+"."+p,null).on(s+"."+p,null),_(v&&Xo.event.target===u),d({type:"dragend"})}var l,h=this,c=h.parentNode,d=a.of(h,arguments),u=Xo.event.target,f=t(),p=null==f?"drag":"drag-"+f,m=e(c,f),v=0,b=Xo.select(Ko).on(i+"."+p,o).on(s+"."+p,n),_=G();r?(l=r.apply(h,arguments),l=[l.x-m[0],l.y-m[1]]):l=[0,0],d({type:"dragstart"})}}var a=_(t,"drag","dragstart","dragend"),r=null,o=s(f,Xo.mouse,"mousemove","mouseup"),n=s(e,i,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},Xo.rebind(t,a,"on")};var xn=Math.PI,Fn=2*xn,Ln=xn/2,kn=1e-6,In=kn*kn,Sn=xn/180,Rn=180/xn,Dn=Math.SQRT2,On=2,Wn=4;Xo.interpolateZoom=function(t,e){function i(t){var e=t*_;if(b){var i=Y(m),o=r/(On*u)*(i*Q(Dn*e+m)-z(m));return[s+o*h,a+o*c,r*i/Y(Dn*e+m)]}return[s+t*h,a+t*c,r*Math.exp(Dn*e)]}var s=t[0],a=t[1],r=t[2],o=e[0],n=e[1],l=e[2],h=o-s,c=n-a,d=h*h+c*c,u=Math.sqrt(d),f=(l*l-r*r+Wn*d)/(2*r*On*u),p=(l*l-r*r-Wn*d)/(2*l*On*u),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(p*p+1)-p),b=v-m,_=(b||Math.log(l/r))/Dn;return i.duration=1e3*_,i},Xo.behavior.zoom=function(){function t(t){t.on(L,h).on(Bn+".zoom",d).on(k,u).on("dblclick.zoom",f).on(S,c)}function e(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function i(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function s(t){A.k=Math.max(F[0],Math.min(F[1],t))}function a(t,e){e=i(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function r(){T&&T.domain(y.range().map(function(t){return(t-A.x)/A.k}).map(y.invert)),C&&C.domain(w.range().map(function(t){return(t-A.y)/A.k}).map(w.invert))}function o(t){t({type:"zoomstart"})}function n(t){r(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function l(t){t({type:"zoomend"})}function h(){function t(){c=1,a(Xo.mouse(s),f),n(r)}function i(){d.on(k,Ko===s?u:null).on(I,null),p(c&&Xo.event.target===h),l(r)}var s=this,r=R.of(s,arguments),h=Xo.event.target,c=0,d=Xo.select(Ko).on(k,t).on(I,i),f=e(Xo.mouse(s)),p=G();B.call(s),o(r)}function c(){function t(){var t=Xo.touches(f);return u=A.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function i(){for(var e=Xo.event.changedTouches,i=0,r=e.length;r>i;++i)m[e[i].identifier]=null;var o=t(),l=Date.now();if(1===o.length){if(500>l-g){var h=o[0],c=m[h.identifier];s(2*A.k),a(h,c),v(),n(p)}g=l}else if(o.length>1){var h=o[0],d=o[1],u=h[0]-d[0],f=h[1]-d[1];b=u*u+f*f}}function r(){for(var t,e,i,r,o=Xo.touches(f),l=0,h=o.length;h>l;++l,r=null)if(i=o[l],r=m[i.identifier]){if(e)break;t=i,e=r}if(r){var c=(c=i[0]-t[0])*c+(c=i[1]-t[1])*c,d=b&&Math.sqrt(c/b);t=[(t[0]+i[0])/2,(t[1]+i[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],s(d*u)}g=null,a(t,e),n(p)}function d(){if(Xo.event.touches.length){for(var e=Xo.event.changedTouches,i=0,s=e.length;s>i;++i)delete m[e[i].identifier];for(var a in m)return void t()}w.on(y,null).on(T,null),C.on(L,h).on(S,c),x(),l(p)}var u,f=this,p=R.of(f,arguments),m={},b=0,_=Xo.event.changedTouches[0].identifier,y="touchmove.zoom-"+_,T="touchend.zoom-"+_,w=Xo.select(Ko).on(y,r).on(T,d),C=Xo.select(f).on(L,null).on(S,i),x=G();B.call(f),i(),o(p)}function d(){var t=R.of(this,arguments);b?clearTimeout(b):(B.call(this),o(t)),b=setTimeout(function(){b=null,l(t)},50),v();var i=m||Xo.mouse(this);p||(p=e(i)),s(Math.pow(2,.002*Mn())*A.k),a(i,p),n(t)}function u(){p=null}function f(){var t=R.of(this,arguments),i=Xo.mouse(this),r=e(i),h=Math.log(A.k)/Math.LN2;o(t),s(Math.pow(2,Xo.event.shiftKey?Math.ceil(h)-1:Math.floor(h)+1)),a(i,r),n(t),l(t)}var p,m,b,g,y,T,w,C,A={x:0,y:0,k:1},x=[960,500],F=En,L="mousedown.zoom",k="mousemove.zoom",I="mouseup.zoom",S="touchstart.zoom",R=_(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=R.of(this,arguments),e=A;Fh?Xo.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},o(t)}).tween("zoom:zoom",function(){var i=x[0],s=x[1],a=i/2,r=s/2,o=Xo.interpolateZoom([(a-A.x)/A.k,(r-A.y)/A.k,i/A.k],[(a-e.x)/e.k,(r-e.y)/e.k,i/e.k]);return function(e){var s=o(e),l=i/s[2];this.__chart__=A={x:a-s[0]*l,y:r-s[1]*l,k:l},n(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=A,o(t),n(t),l(t))})},t.translate=function(e){return arguments.length?(A={x:+e[0],y:+e[1],k:A.k},r(),t):[A.x,A.y]},t.scale=function(e){return arguments.length?(A={x:A.x,y:A.y,k:+e},r(),t):A.k},t.scaleExtent=function(e){return arguments.length?(F=null==e?En:[+e[0],+e[1]],t):F},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(x=e&&[+e[0],+e[1]],t):x},t.x=function(e){return arguments.length?(T=e,y=e.copy(),A={x:0,y:0,k:1},t):T},t.y=function(e){return arguments.length?(C=e,w=e.copy(),A={x:0,y:0,k:1},t):C},Xo.rebind(t,R,"on")};var Mn,En=[0,1/0],Bn="onwheel"in Qo?(Mn=function(){return-Xo.event.deltaY*(Xo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qo?(Mn=function(){return Xo.event.wheelDelta},"mousewheel"):(Mn=function(){return-Xo.event.detail},"MozMousePixelScroll");K.prototype.toString=function(){return this.rgb()+""},Xo.hsl=function(t,e,i){return 1===arguments.length?t instanceof J?Z(t.h,t.s,t.l):ve(""+t,be,Z):Z(+t,+e,+i)};var Hn=J.prototype=new K;Hn.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),Z(this.h,this.s,this.l/t)},Hn.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),Z(this.h,this.s,t*this.l)},Hn.rgb=function(){return te(this.h,this.s,this.l)},Xo.hcl=function(t,e,i){return 1===arguments.length?t instanceof ie?ee(t.h,t.c,t.l):t instanceof re?ne(t.l,t.a,t.b):ne((t=_e((t=Xo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):ee(+t,+e,+i)};var Pn=ie.prototype=new K;Pn.brighter=function(t){return ee(this.h,this.c,Math.min(100,this.l+Nn*(arguments.length?t:1)))},Pn.darker=function(t){return ee(this.h,this.c,Math.max(0,this.l-Nn*(arguments.length?t:1)))},Pn.rgb=function(){return se(this.h,this.c,this.l).rgb()},Xo.lab=function(t,e,i){return 1===arguments.length?t instanceof re?ae(t.l,t.a,t.b):t instanceof ie?se(t.l,t.c,t.h):_e((t=Xo.rgb(t)).r,t.g,t.b):ae(+t,+e,+i)};var Nn=18,Gn=.95047,Vn=1,Un=1.08883,qn=re.prototype=new K;qn.brighter=function(t){return ae(Math.min(100,this.l+Nn*(arguments.length?t:1)),this.a,this.b)},qn.darker=function(t){return ae(Math.max(0,this.l-Nn*(arguments.length?t:1)),this.a,this.b)},qn.rgb=function(){return oe(this.l,this.a,this.b)},Xo.rgb=function(t,e,i){return 1===arguments.length?t instanceof pe?fe(t.r,t.g,t.b):ve(""+t,fe,te):fe(~~t,~~e,~~i)};var jn=pe.prototype=new K;jn.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,i=this.g,s=this.b,a=30;return e||i||s?(e&&a>e&&(e=a),i&&a>i&&(i=a),s&&a>s&&(s=a),fe(Math.min(255,~~(e/t)),Math.min(255,~~(i/t)),Math.min(255,~~(s/t)))):fe(a,a,a)},jn.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),fe(~~(t*this.r),~~(t*this.g),~~(t*this.b))},jn.hsl=function(){return be(this.r,this.g,this.b)},jn.toString=function(){return"#"+me(this.r)+me(this.g)+me(this.b)};var Xn=Xo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Xn.forEach(function(t,e){Xn.set(t,de(e))}),Xo.functor=Te,Xo.xhr=Ce(we),Xo.dsv=function(t,e){function i(t,i,r){arguments.length<3&&(r=i,i=null);var o=Ae(t,e,null==i?s:a(i),r);return o.row=function(t){return arguments.length?o.response(null==(i=t)?s:a(t)):i},o}function s(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function r(e){return e.map(o).join(t)}function o(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return i.parse=function(t,e){var s;return i.parseRows(t,function(t,i){if(s)return s(t,i-1);var a=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");s=e?function(t,i){return e(a(t),i)}:a})},i.parseRows=function(t,e){function i(){if(c>=h)return o;if(a)return a=!1,r;var e=c;if(34===t.charCodeAt(e)){for(var i=e;i++<h;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}c=i+2;var s=t.charCodeAt(i+1);return 13===s?(a=!0,10===t.charCodeAt(i+2)&&++c):10===s&&(a=!0),t.substring(e+1,i).replace(/""/g,'"')}for(;h>c;){var s=t.charCodeAt(c++),n=1;if(10===s)a=!0;else if(13===s)a=!0,10===t.charCodeAt(c)&&(++c,++n);else if(s!==l)continue;return t.substring(e,c-n)}return t.substring(e)}for(var s,a,r={},o={},n=[],h=t.length,c=0,d=0;(s=i())!==o;){for(var u=[];s!==r&&s!==o;)u.push(s),s=i();(!e||(u=e(u,d++)))&&n.push(u)}return n},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var s=new c,a=[];return e.forEach(function(t){for(var e in t)s.has(e)||a.push(s.add(e))}),[a.map(o).join(t)].concat(e.map(function(e){return a.map(function(t){return o(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(r).join("\n")},i},Xo.csv=Xo.dsv(",","text/csv"),Xo.tsv=Xo.dsv("	","text/tab-separated-values");var zn,Yn,Qn,$n,Kn,Zn=Ko[u(Ko,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Xo.timer=function(t,e,i){var s=arguments.length;2>s&&(e=0),3>s&&(i=Date.now());var a=i+e,r={c:t,t:a,f:!1,n:null};Yn?Yn.n=r:zn=r,Yn=r,Qn||($n=clearTimeout($n),Qn=1,Zn(Fe))},Xo.timer.flush=function(){Le(),ke()},Xo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Jn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Se);Xo.formatPrefix=function(t,e){var i=0;return t&&(0>t&&(t*=-1),e&&(t=Xo.round(t,Ie(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((0>=i?i+1:i-1)/3)))),Jn[8+i/3]};var tl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,el=Xo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Xo.round(t,Ie(t,e))).toFixed(Math.max(0,Math.min(20,Ie(t*(1+1e-15),e))))}}),il=Xo.time={},sl=Date;Oe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){al.setUTCDate.apply(this._,arguments)},setDay:function(){al.setUTCDay.apply(this._,arguments)},setFullYear:function(){al.setUTCFullYear.apply(this._,arguments)},setHours:function(){al.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){al.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){al.setUTCMinutes.apply(this._,arguments)},setMonth:function(){al.setUTCMonth.apply(this._,arguments)},setSeconds:function(){al.setUTCSeconds.apply(this._,arguments)},setTime:function(){al.setTime.apply(this._,arguments)}};var al=Date.prototype;il.year=We(function(t){return t=il.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),il.years=il.year.range,il.years.utc=il.year.utc.range,il.day=We(function(t){var e=new sl(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),il.days=il.day.range,il.days.utc=il.day.utc.range,il.dayOfYear=function(t){var e=il.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var i=il[t]=We(function(t){return(t=il.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var i=il.year(t).getDay();return Math.floor((il.dayOfYear(t)+(i+e)%7)/7)-(i!==e)});il[t+"s"]=i.range,il[t+"s"].utc=i.utc.range,il[t+"OfYear"]=function(t){var i=il.year(t).getDay();return Math.floor((il.dayOfYear(t)+(i+e)%7)/7)}}),il.week=il.sunday,il.weeks=il.sunday.range,il.weeks.utc=il.sunday.utc.range,il.weekOfYear=il.sundayOfYear;var rl={"-":"",_:" ",0:"0"},ol=/^\s*\d+/,nl=/^%/;Xo.locale=function(t){return{numberFormat:Re(t),timeFormat:Ee(t)}};var ll=Xo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Xo.format=ll.numberFormat,Xo.geo={},si.prototype={s:0,t:0,add:function(t){ai(t,this.t,hl),ai(hl.s,this.s,this),this.s?this.t+=hl.t:this.s=hl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hl=new si;Xo.geo.stream=function(t,e){t&&cl.hasOwnProperty(t.type)?cl[t.type](t,e):ri(t,e)};var cl={Feature:function(t,e){ri(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,s=-1,a=i.length;++s<a;)ri(i[s].geometry,e)}},dl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,s=-1,a=i.length;++s<a;)t=i[s],e.point(t[0],t[1],t[2])},LineString:function(t,e){oi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,s=-1,a=i.length;++s<a;)oi(i[s],e,0)},Polygon:function(t,e){ni(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,s=-1,a=i.length;++s<a;)ni(i[s],e)},GeometryCollection:function(t,e){for(var i=t.geometries,s=-1,a=i.length;++s<a;)ri(i[s],e)}};Xo.geo.area=function(t){return ul=0,Xo.geo.stream(t,pl),ul};var ul,fl=new si,pl={sphere:function(){ul+=4*xn},point:f,lineStart:f,lineEnd:f,polygonStart:function(){fl.reset(),pl.lineStart=li},polygonEnd:function(){var t=2*fl;ul+=0>t?4*xn+t:t,pl.lineStart=pl.lineEnd=pl.point=f}};Xo.geo.bounds=function(){function t(t,e){g.push(y=[c=t,u=t]),d>e&&(d=e),e>f&&(f=e)}function e(e,i){var s=hi([e*Sn,i*Sn]);if(b){var a=di(b,s),r=[a[1],-a[0],0],o=di(r,a);pi(o),o=mi(o);var l=e-p,h=l>0?1:-1,m=o[0]*Rn*h,v=nn(l)>180;if(v^(m>h*p&&h*e>m)){var _=o[1]*Rn;_>f&&(f=_)}else if(m=(m+360)%360-180,v^(m>h*p&&h*e>m)){var _=-o[1]*Rn;d>_&&(d=_)}else d>i&&(d=i),i>f&&(f=i);v?p>e?n(c,e)>n(c,u)&&(u=e):n(e,u)>n(c,u)&&(c=e):u>=c?(c>e&&(c=e),e>u&&(u=e)):e>p?n(c,e)>n(c,u)&&(u=e):n(e,u)>n(c,u)&&(c=e)}else t(e,i);b=s,p=e}function i(){T.point=e}function s(){y[0]=c,y[1]=u,T.point=t,b=null}function a(t,i){if(b){var s=t-p;_+=nn(s)>180?s+(s>0?360:-360):s}else m=t,v=i;pl.point(t,i),e(t,i)}function r(){pl.lineStart()}function o(){a(m,v),pl.lineEnd(),nn(_)>kn&&(c=-(u=180)),y[0]=c,y[1]=u,b=null}function n(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function h(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,u,f,p,m,v,b,_,g,y,T={point:t,lineStart:i,lineEnd:s,polygonStart:function(){T.point=a,T.lineStart=r,T.lineEnd=o,_=0,pl.polygonStart()},polygonEnd:function(){pl.polygonEnd(),T.point=t,T.lineStart=i,T.lineEnd=s,0>fl?(c=-(u=180),d=-(f=90)):_>kn?f=90:-kn>_&&(d=-90),y[0]=c,y[1]=u
}};return function(t){f=u=-(c=d=1/0),g=[],Xo.geo.stream(t,T);var e=g.length;if(e){g.sort(l);for(var i,s=1,a=g[0],r=[a];e>s;++s)i=g[s],h(i[0],a)||h(i[1],a)?(n(a[0],i[1])>n(a[0],a[1])&&(a[1]=i[1]),n(i[0],a[1])>n(a[0],a[1])&&(a[0]=i[0])):r.push(a=i);for(var o,i,p=-1/0,e=r.length-1,s=0,a=r[e];e>=s;a=i,++s)i=r[s],(o=n(a[1],i[0]))>p&&(p=o,c=i[0],u=a[1])}return g=y=null,1/0===c||1/0===d?[[0/0,0/0],[0/0,0/0]]:[[c,d],[u,f]]}}(),Xo.geo.centroid=function(t){ml=vl=bl=_l=gl=yl=Tl=wl=Cl=Al=xl=0,Xo.geo.stream(t,Fl);var e=Cl,i=Al,s=xl,a=e*e+i*i+s*s;return In>a&&(e=yl,i=Tl,s=wl,kn>vl&&(e=bl,i=_l,s=gl),a=e*e+i*i+s*s,In>a)?[0/0,0/0]:[Math.atan2(i,e)*Rn,X(s/Math.sqrt(a))*Rn]};var ml,vl,bl,_l,gl,yl,Tl,wl,Cl,Al,xl,Fl={sphere:f,point:bi,lineStart:gi,lineEnd:yi,polygonStart:function(){Fl.lineStart=Ti},polygonEnd:function(){Fl.lineStart=gi}},Ll=Fi(wi,Ri,Oi,[-xn,-xn/2]),kl=1e9;Xo.geo.clipExtent=function(){var t,e,i,s,a,r,o={stream:function(t){return a&&(a.valid=!1),a=r(t),a.valid=!0,a},extent:function(n){return arguments.length?(r=Ei(t=+n[0][0],e=+n[0][1],i=+n[1][0],s=+n[1][1]),a&&(a.valid=!1,a=null),o):[[t,e],[i,s]]}};return o.extent([[0,0],[960,500]])},(Xo.geo.conicEqualArea=function(){return Hi(Pi)}).raw=Pi,Xo.geo.albers=function(){return Xo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Xo.geo.albersUsa=function(){function t(t){var r=t[0],o=t[1];return e=null,i(r,o),e||(s(r,o),e)||a(r,o),e}var e,i,s,a,r=Xo.geo.albers(),o=Xo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),n=Xo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,i){e=[t,i]}};return t.invert=function(t){var e=r.scale(),i=r.translate(),s=(t[0]-i[0])/e,a=(t[1]-i[1])/e;return(a>=.12&&.234>a&&s>=-.425&&-.214>s?o:a>=.166&&.234>a&&s>=-.214&&-.115>s?n:r).invert(t)},t.stream=function(t){var e=r.stream(t),i=o.stream(t),s=n.stream(t);return{point:function(t,a){e.point(t,a),i.point(t,a),s.point(t,a)},sphere:function(){e.sphere(),i.sphere(),s.sphere()},lineStart:function(){e.lineStart(),i.lineStart(),s.lineStart()},lineEnd:function(){e.lineEnd(),i.lineEnd(),s.lineEnd()},polygonStart:function(){e.polygonStart(),i.polygonStart(),s.polygonStart()},polygonEnd:function(){e.polygonEnd(),i.polygonEnd(),s.polygonEnd()}}},t.precision=function(e){return arguments.length?(r.precision(e),o.precision(e),n.precision(e),t):r.precision()},t.scale=function(e){return arguments.length?(r.scale(e),o.scale(.35*e),n.scale(e),t.translate(r.translate())):r.scale()},t.translate=function(e){if(!arguments.length)return r.translate();var h=r.scale(),c=+e[0],d=+e[1];return i=r.translate(e).clipExtent([[c-.455*h,d-.238*h],[c+.455*h,d+.238*h]]).stream(l).point,s=o.translate([c-.307*h,d+.201*h]).clipExtent([[c-.425*h+kn,d+.12*h+kn],[c-.214*h-kn,d+.234*h-kn]]).stream(l).point,a=n.translate([c-.205*h,d+.212*h]).clipExtent([[c-.214*h+kn,d+.166*h+kn],[c-.115*h-kn,d+.234*h-kn]]).stream(l).point,t},t.scale(1070)};var Il,Sl,Rl,Dl,Ol,Wl,Ml={point:f,lineStart:f,lineEnd:f,polygonStart:function(){Sl=0,Ml.lineStart=Ni},polygonEnd:function(){Ml.lineStart=Ml.lineEnd=Ml.point=f,Il+=nn(Sl/2)}},El={point:Gi,lineStart:f,lineEnd:f,polygonStart:f,polygonEnd:f},Bl={point:qi,lineStart:ji,lineEnd:Xi,polygonStart:function(){Bl.lineStart=zi},polygonEnd:function(){Bl.point=qi,Bl.lineStart=ji,Bl.lineEnd=Xi}};Xo.geo.path=function(){function t(t){return t&&("function"==typeof n&&r.pointRadius(+n.apply(this,arguments)),o&&o.valid||(o=a(r)),Xo.geo.stream(t,o)),r.result()}function e(){return o=null,t}var i,s,a,r,o,n=4.5;return t.area=function(t){return Il=0,Xo.geo.stream(t,a(Ml)),Il},t.centroid=function(t){return bl=_l=gl=yl=Tl=wl=Cl=Al=xl=0,Xo.geo.stream(t,a(Bl)),xl?[Cl/xl,Al/xl]:wl?[yl/wl,Tl/wl]:gl?[bl/gl,_l/gl]:[0/0,0/0]},t.bounds=function(t){return Ol=Wl=-(Rl=Dl=1/0),Xo.geo.stream(t,a(El)),[[Rl,Dl],[Ol,Wl]]},t.projection=function(t){return arguments.length?(a=(i=t)?t.stream||$i(t):we,e()):i},t.context=function(t){return arguments.length?(r=null==(s=t)?new Vi:new Yi(t),"function"!=typeof n&&r.pointRadius(n),e()):s},t.pointRadius=function(e){return arguments.length?(n="function"==typeof e?e:(r.pointRadius(+e),+e),t):n},t.projection(Xo.geo.albersUsa()).context(null)},Xo.geo.transform=function(t){return{stream:function(e){var i=new Ki(e);for(var s in t)i[s]=t[s];return i}}},Ki.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Xo.geo.projection=Ji,Xo.geo.projectionMutator=ts,(Xo.geo.equirectangular=function(){return Ji(is)}).raw=is.invert=is,Xo.geo.rotation=function(t){function e(e){return e=t(e[0]*Sn,e[1]*Sn),e[0]*=Rn,e[1]*=Rn,e}return t=as(t[0]%360*Sn,t[1]*Sn,t.length>2?t[2]*Sn:0),e.invert=function(e){return e=t.invert(e[0]*Sn,e[1]*Sn),e[0]*=Rn,e[1]*=Rn,e},e},ss.invert=is,Xo.geo.circle=function(){function t(){var t="function"==typeof s?s.apply(this,arguments):s,e=as(-t[0]*Sn,-t[1]*Sn,0).invert,a=[];return i(null,null,1,{point:function(t,i){a.push(t=e(t,i)),t[0]*=Rn,t[1]*=Rn}}),{type:"Polygon",coordinates:[a]}}var e,i,s=[0,0],a=6;return t.origin=function(e){return arguments.length?(s=e,t):s},t.angle=function(s){return arguments.length?(i=ls((e=+s)*Sn,a*Sn),t):e},t.precision=function(s){return arguments.length?(i=ls(e*Sn,(a=+s)*Sn),t):a},t.angle(90)},Xo.geo.distance=function(t,e){var i,s=(e[0]-t[0])*Sn,a=t[1]*Sn,r=e[1]*Sn,o=Math.sin(s),n=Math.cos(s),l=Math.sin(a),h=Math.cos(a),c=Math.sin(r),d=Math.cos(r);return Math.atan2(Math.sqrt((i=d*o)*i+(i=h*c-l*d*n)*i),l*c+h*d*n)},Xo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Xo.range(Math.ceil(r/v)*v,a,v).map(u).concat(Xo.range(Math.ceil(h/b)*b,l,b).map(f)).concat(Xo.range(Math.ceil(s/p)*p,i,p).filter(function(t){return nn(t%v)>kn}).map(c)).concat(Xo.range(Math.ceil(n/m)*m,o,m).filter(function(t){return nn(t%b)>kn}).map(d))}var i,s,a,r,o,n,l,h,c,d,u,f,p=10,m=p,v=90,b=360,_=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(f(l).slice(1),u(a).reverse().slice(1),f(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(r=+e[0][0],a=+e[1][0],h=+e[0][1],l=+e[1][1],r>a&&(e=r,r=a,a=e),h>l&&(e=h,h=l,l=e),t.precision(_)):[[r,h],[a,l]]},t.minorExtent=function(e){return arguments.length?(s=+e[0][0],i=+e[1][0],n=+e[0][1],o=+e[1][1],s>i&&(e=s,s=i,i=e),n>o&&(e=n,n=o,o=e),t.precision(_)):[[s,n],[i,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],b=+e[1],t):[v,b]},t.minorStep=function(e){return arguments.length?(p=+e[0],m=+e[1],t):[p,m]},t.precision=function(e){return arguments.length?(_=+e,c=cs(n,o,90),d=ds(s,i,_),u=cs(h,l,90),f=ds(r,a,_),t):_},t.majorExtent([[-180,-90+kn],[180,90-kn]]).minorExtent([[-180,-80-kn],[180,80+kn]])},Xo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||s.apply(this,arguments),i||a.apply(this,arguments)]}}var e,i,s=us,a=fs;return t.distance=function(){return Xo.geo.distance(e||s.apply(this,arguments),i||a.apply(this,arguments))},t.source=function(i){return arguments.length?(s=i,e="function"==typeof i?null:i,t):s},t.target=function(e){return arguments.length?(a=e,i="function"==typeof e?null:e,t):a},t.precision=function(){return arguments.length?t:0},t},Xo.geo.interpolate=function(t,e){return ps(t[0]*Sn,t[1]*Sn,e[0]*Sn,e[1]*Sn)},Xo.geo.length=function(t){return Hl=0,Xo.geo.stream(t,Pl),Hl};var Hl,Pl={sphere:f,point:f,lineStart:ms,lineEnd:f,polygonStart:f,polygonEnd:f},Nl=vs(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Xo.geo.azimuthalEqualArea=function(){return Ji(Nl)}).raw=Nl;var Gl=vs(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},we);(Xo.geo.azimuthalEquidistant=function(){return Ji(Gl)}).raw=Gl,(Xo.geo.conicConformal=function(){return Hi(bs)}).raw=bs,(Xo.geo.conicEquidistant=function(){return Hi(_s)}).raw=_s;var Vl=vs(function(t){return 1/t},Math.atan);(Xo.geo.gnomonic=function(){return Ji(Vl)}).raw=Vl,gs.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ln]},(Xo.geo.mercator=function(){return ys(gs)}).raw=gs;var Ul=vs(function(){return 1},Math.asin);(Xo.geo.orthographic=function(){return Ji(Ul)}).raw=Ul;var ql=vs(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Xo.geo.stereographic=function(){return Ji(ql)}).raw=ql,Ts.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ln]},(Xo.geo.transverseMercator=function(){var t=ys(Ts),e=t.center,i=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[-t[1],t[0]])},t.rotate=function(t){return t?i([t[0],t[1],t.length>2?t[2]+90:90]):(t=i(),[t[0],t[1],t[2]-90])},t.rotate([0,0])}).raw=Ts,Xo.geom={},Xo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,a=Te(i),r=Te(s),o=t.length,n=[],l=[];for(e=0;o>e;e++)n.push([+a.call(this,t[e],e),+r.call(this,t[e],e),e]);for(n.sort(xs),e=0;o>e;e++)l.push([n[e][0],-n[e][1]]);var h=As(n),c=As(l),d=c[0]===h[0],u=c[c.length-1]===h[h.length-1],f=[];for(e=h.length-1;e>=0;--e)f.push(t[n[h[e]][2]]);for(e=+d;e<c.length-u;++e)f.push(t[n[c[e]][2]]);return f}var i=ws,s=Cs;return arguments.length?e(t):(e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(s=t,e):s},e)},Xo.geom.polygon=function(t){return un(t,jl),t};var jl=Xo.geom.polygon.prototype=[];jl.area=function(){for(var t,e=-1,i=this.length,s=this[i-1],a=0;++e<i;)t=s,s=this[e],a+=t[1]*s[0]-t[0]*s[1];return.5*a},jl.centroid=function(t){var e,i,s=-1,a=this.length,r=0,o=0,n=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++s<a;)e=n,n=this[s],i=e[0]*n[1]-n[0]*e[1],r+=(e[0]+n[0])*i,o+=(e[1]+n[1])*i;return[r*t,o*t]},jl.clip=function(t){for(var e,i,s,a,r,o,n=ks(t),l=-1,h=this.length-ks(this),c=this[h-1];++l<h;){for(e=t.slice(),t.length=0,a=this[l],r=e[(s=e.length-n)-1],i=-1;++i<s;)o=e[i],Fs(o,c,a)?(Fs(r,c,a)||t.push(Ls(r,o,c,a)),t.push(o)):Fs(r,c,a)&&t.push(Ls(r,o,c,a)),r=o;n&&t.push(t[0]),c=a}return t};var Xl,zl,Yl,Ql,$l,Kl=[],Zl=[];Es.prototype.prepare=function(){for(var t,e=this.edges,i=e.length;i--;)t=e[i].edge,t.b&&t.a||e.splice(i,1);return e.sort(Hs),e.length},Ys.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Qs.prototype={insert:function(t,e){var i,s,a;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=Js(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)s=i.U,i===s.L?(a=s.R,a&&a.C?(i.C=a.C=!1,s.C=!0,t=s):(t===i.R&&(Ks(this,i),t=i,i=t.U),i.C=!1,s.C=!0,Zs(this,s))):(a=s.L,a&&a.C?(i.C=a.C=!1,s.C=!0,t=s):(t===i.L&&(Zs(this,i),t=i,i=t.U),i.C=!1,s.C=!0,Ks(this,s))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,s,a=t.U,r=t.L,o=t.R;if(i=r?o?Js(o):r:o,a?a.L===t?a.L=i:a.R=i:this._=i,r&&o?(s=i.C,i.C=t.C,i.L=r,r.U=i,i!==o?(a=i.U,i.U=t.U,t=i.R,a.L=t,i.R=o,o.U=i):(i.U=a,a=i,t=i.R)):(s=t.C,t=i),t&&(t.U=a),!s){if(t&&t.C)return t.C=!1,void 0;do{if(t===this._)break;if(t===a.L){if(e=a.R,e.C&&(e.C=!1,a.C=!0,Ks(this,a),e=a.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Zs(this,e),e=a.R),e.C=a.C,a.C=e.R.C=!1,Ks(this,a),t=this._;break}}else if(e=a.L,e.C&&(e.C=!1,a.C=!0,Zs(this,a),e=a.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ks(this,e),e=a.L),e.C=a.C,a.C=e.L.C=!1,Zs(this,a),t=this._;break}e.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},Xo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),s=n[0][0],a=n[0][1],r=n[1][0],o=n[1][1];return ta(i(t),n).cells.forEach(function(i,n){var l=i.edges,h=i.site,c=e[n]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):h.x>=s&&h.x<=r&&h.y>=a&&h.y<=o?[[s,o],[r,o],[r,a],[s,a]]:[];c.point=t[n]}),e}function i(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/kn)*kn,y:Math.round(o(t,e)/kn)*kn,i:e}})}var s=ws,a=Cs,r=s,o=a,n=Jl;return t?e(t):(e.links=function(t){return ta(i(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ta(i(t)).cells.forEach(function(i,s){for(var a,r,o=i.site,n=i.edges.sort(Hs),l=-1,h=n.length,c=n[h-1].edge,d=c.l===o?c.r:c.l;++l<h;)a=c,r=d,c=n[l].edge,d=c.l===o?c.r:c.l,s<r.i&&s<d.i&&ia(o,r,d)<0&&e.push([t[s],t[r.i],t[d.i]])}),e},e.x=function(t){return arguments.length?(r=Te(s=t),e):s},e.y=function(t){return arguments.length?(o=Te(a=t),e):a},e.clipExtent=function(t){return arguments.length?(n=null==t?Jl:t,e):n===Jl?null:n},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):n===Jl?null:n&&n[1]},e)};var Jl=[[-1e6,-1e6],[1e6,1e6]];Xo.geom.delaunay=function(t){return Xo.geom.voronoi().triangles(t)},Xo.geom.quadtree=function(t,e,i,s,a){function r(t){function r(t,e,i,s,a,r,o,n){if(!isNaN(i)&&!isNaN(s))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(nn(l-i)+nn(c-s)<.01)h(t,e,i,s,a,r,o,n);else{var d=t.point;t.x=t.y=t.point=null,h(t,d,l,c,a,r,o,n),h(t,e,i,s,a,r,o,n)}else t.x=i,t.y=s,t.point=e}else h(t,e,i,s,a,r,o,n)}function h(t,e,i,s,a,o,n,l){var h=.5*(a+n),c=.5*(o+l),d=i>=h,u=s>=c,f=(u<<1)+d;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=ra()),d?a=h:n=h,u?o=c:l=c,r(t,e,i,s,a,o,n,l)}var c,d,u,f,p,m,v,b,_,g=Te(n),y=Te(l);if(null!=e)m=e,v=i,b=s,_=a;else if(b=_=-(m=v=1/0),d=[],u=[],p=t.length,o)for(f=0;p>f;++f)c=t[f],c.x<m&&(m=c.x),c.y<v&&(v=c.y),c.x>b&&(b=c.x),c.y>_&&(_=c.y),d.push(c.x),u.push(c.y);else for(f=0;p>f;++f){var T=+g(c=t[f],f),w=+y(c,f);m>T&&(m=T),v>w&&(v=w),T>b&&(b=T),w>_&&(_=w),d.push(T),u.push(w)}var C=b-m,A=_-v;C>A?_=v+C:b=m+A;var x=ra();if(x.add=function(t){r(x,t,+g(t,++f),+y(t,f),m,v,b,_)},x.visit=function(t){oa(t,x,m,v,b,_)},f=-1,null==e){for(;++f<p;)r(x,t[f],d[f],u[f],m,v,b,_);--f}else t.forEach(x.add);return d=u=t=c=null,x}var o,n=ws,l=Cs;return(o=arguments.length)?(n=sa,l=aa,3===o&&(a=i,s=e,i=e=0),r(t)):(r.x=function(t){return arguments.length?(n=t,r):n},r.y=function(t){return arguments.length?(l=t,r):l},r.extent=function(t){return arguments.length?(null==t?e=i=s=a=null:(e=+t[0][0],i=+t[0][1],s=+t[1][0],a=+t[1][1]),r):null==e?null:[[e,i],[s,a]]},r.size=function(t){return arguments.length?(null==t?e=i=s=a=null:(e=i=0,s=+t[0],a=+t[1]),r):null==e?null:[s-e,a-i]},r)},Xo.interpolateRgb=na,Xo.interpolateObject=la,Xo.interpolateNumber=ha,Xo.interpolateString=ca;var th=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Xo.interpolate=da,Xo.interpolators=[function(t,e){var i=typeof e;return("string"===i?Xn.has(e)||/^(#|rgb\(|hsl\()/.test(e)?na:ca:e instanceof K?na:"object"===i?Array.isArray(e)?ua:la:ha)(t,e)}],Xo.interpolateArray=ua;var eh=function(){return we},ih=Xo.map({linear:eh,poly:ga,quad:function(){return va},cubic:function(){return ba},sin:function(){return ya},exp:function(){return Ta},circle:function(){return wa},elastic:Ca,back:Aa,bounce:function(){return xa}}),sh=Xo.map({"in":we,out:pa,"in-out":ma,"out-in":function(t){return ma(pa(t))}});Xo.ease=function(t){var e=t.indexOf("-"),i=e>=0?t.substring(0,e):t,s=e>=0?t.substring(e+1):"in";return i=ih.get(i)||eh,s=sh.get(s)||we,fa(s(i.apply(null,zo.call(arguments,1))))},Xo.interpolateHcl=Fa,Xo.interpolateHsl=La,Xo.interpolateLab=ka,Xo.interpolateRound=Ia,Xo.transform=function(t){var e=Qo.createElementNS(Xo.ns.prefix.svg,"g");return(Xo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var i=e.transform.baseVal.consolidate()}return new Sa(i?i.matrix:ah)})(t)},Sa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ah={a:1,b:0,c:0,d:1,e:0,f:0};Xo.interpolateTransform=Wa,Xo.layout={},Xo.layout.bundle=function(){return function(t){for(var e=[],i=-1,s=t.length;++i<s;)e.push(Ba(t[i]));return e}},Xo.layout.chord=function(){function t(){var t,h,d,u,f,p={},m=[],v=Xo.range(r),b=[];for(i=[],s=[],t=0,u=-1;++u<r;){for(h=0,f=-1;++f<r;)h+=a[u][f];m.push(h),b.push(Xo.range(r)),t+=h}for(o&&v.sort(function(t,e){return o(m[t],m[e])}),n&&b.forEach(function(t,e){t.sort(function(t,i){return n(a[e][t],a[e][i])})}),t=(Fn-c*r)/t,h=0,u=-1;++u<r;){for(d=h,f=-1;++f<r;){var _=v[u],g=b[_][f],y=a[_][g],T=h,w=h+=y*t;p[_+"-"+g]={index:_,subindex:g,startAngle:T,endAngle:w,value:y}}s[_]={index:_,startAngle:d,endAngle:h,value:(h-d)/t},h+=c}for(u=-1;++u<r;)for(f=u-1;++f<r;){var C=p[u+"-"+f],A=p[f+"-"+u];(C.value||A.value)&&i.push(C.value<A.value?{source:A,target:C}:{source:C,target:A})}l&&e()}function e(){i.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var i,s,a,r,o,n,l,h={},c=0;return h.matrix=function(t){return arguments.length?(r=(a=t)&&a.length,i=s=null,h):a},h.padding=function(t){return arguments.length?(c=t,i=s=null,h):c},h.sortGroups=function(t){return arguments.length?(o=t,i=s=null,h):o},h.sortSubgroups=function(t){return arguments.length?(n=t,i=null,h):n},h.sortChords=function(t){return arguments.length?(l=t,i&&e(),h):l},h.chords=function(){return i||t(),i},h.groups=function(){return s||t(),s},h},Xo.layout.force=function(){function t(t){return function(e,i,s,a){if(e.point!==t){var r=e.cx-t.x,o=e.cy-t.y,n=a-i,l=r*r+o*o;if(l>n*n/v){if(p>l){var h=e.charge/l;t.px-=r*h,t.py-=o*h}return!0}if(e.point&&l&&p>l){var h=e.pointCharge/l;t.px-=r*h,t.py-=o*h}}return!e.charge}}function e(t){t.px=Xo.event.x,t.py=Xo.event.y,n.resume()}var i,s,a,r,o,n={},l=Xo.dispatch("start","tick","end"),h=[1,1],c=.9,d=rh,u=oh,f=-30,p=nh,m=.1,v=.64,b=[],_=[];return n.tick=function(){if((s*=.99)<.005)return l.end({type:"end",alpha:s=0}),!0;var e,i,n,d,u,p,v,g,y,T=b.length,w=_.length;for(i=0;w>i;++i)n=_[i],d=n.source,u=n.target,g=u.x-d.x,y=u.y-d.y,(p=g*g+y*y)&&(p=s*r[i]*((p=Math.sqrt(p))-a[i])/p,g*=p,y*=p,u.x-=g*(v=d.weight/(u.weight+d.weight)),u.y-=y*v,d.x+=g*(v=1-v),d.y+=y*v);if((v=s*m)&&(g=h[0]/2,y=h[1]/2,i=-1,v))for(;++i<T;)n=b[i],n.x+=(g-n.x)*v,n.y+=(y-n.y)*v;if(f)for(qa(e=Xo.geom.quadtree(b),s,o),i=-1;++i<T;)(n=b[i]).fixed||e.visit(t(n));for(i=-1;++i<T;)n=b[i],n.fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*c,n.y-=(n.py-(n.py=n.y))*c);l.tick({type:"tick",alpha:s})},n.nodes=function(t){return arguments.length?(b=t,n):b},n.links=function(t){return arguments.length?(_=t,n):_},n.size=function(t){return arguments.length?(h=t,n):h},n.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,n):d},n.distance=n.linkDistance,n.linkStrength=function(t){return arguments.length?(u="function"==typeof t?t:+t,n):u},n.friction=function(t){return arguments.length?(c=+t,n):c},n.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,n):f},n.chargeDistance=function(t){return arguments.length?(p=t*t,n):Math.sqrt(p)},n.gravity=function(t){return arguments.length?(m=+t,n):m},n.theta=function(t){return arguments.length?(v=t*t,n):Math.sqrt(v)},n.alpha=function(t){return arguments.length?(t=+t,s?s=t>0?t:0:t>0&&(l.start({type:"start",alpha:s=t}),Xo.timer(n.tick)),n):s},n.start=function(){function t(t,s){if(!i){for(i=new Array(l),n=0;l>n;++n)i[n]=[];for(n=0;h>n;++n){var a=_[n];i[a.source.index].push(a.target),i[a.target.index].push(a.source)}}for(var r,o=i[e],n=-1,h=o.length;++n<h;)if(!isNaN(r=o[n][t]))return r;return Math.random()*s}var e,i,s,l=b.length,c=_.length,p=h[0],m=h[1];for(e=0;l>e;++e)(s=b[e]).index=e,s.weight=0;for(e=0;c>e;++e)s=_[e],"number"==typeof s.source&&(s.source=b[s.source]),"number"==typeof s.target&&(s.target=b[s.target]),++s.source.weight,++s.target.weight;for(e=0;l>e;++e)s=b[e],isNaN(s.x)&&(s.x=t("x",p)),isNaN(s.y)&&(s.y=t("y",m)),isNaN(s.px)&&(s.px=s.x),isNaN(s.py)&&(s.py=s.y);if(a=[],"function"==typeof d)for(e=0;c>e;++e)a[e]=+d.call(this,_[e],e);else for(e=0;c>e;++e)a[e]=d;if(r=[],"function"==typeof u)for(e=0;c>e;++e)r[e]=+u.call(this,_[e],e);else for(e=0;c>e;++e)r[e]=u;if(o=[],"function"==typeof f)for(e=0;l>e;++e)o[e]=+f.call(this,b[e],e);else for(e=0;l>e;++e)o[e]=f;return n.resume()},n.resume=function(){return n.alpha(.1)},n.stop=function(){return n.alpha(0)},n.drag=function(){return i||(i=Xo.behavior.drag().origin(we).on("dragstart.force",Na).on("drag.force",e).on("dragend.force",Ga)),arguments.length?(this.on("mouseover.force",Va).on("mouseout.force",Ua).call(i),void 0):i},Xo.rebind(n,l,"on")};var rh=20,oh=1,nh=1/0;Xo.layout.hierarchy=function(){function t(e,o,n){var l=a.call(i,e,o);if(e.depth=o,n.push(e),l&&(h=l.length)){for(var h,c,d=-1,u=e.children=new Array(h),f=0,p=o+1;++d<h;)c=u[d]=t(l[d],p,n),c.parent=e,f+=c.value;s&&u.sort(s),r&&(e.value=f)}else delete e.children,r&&(e.value=+r.call(i,e,o)||0);return e}function e(t,s){var a=t.children,o=0;if(a&&(n=a.length))for(var n,l=-1,h=s+1;++l<n;)o+=e(a[l],h);else r&&(o=+r.call(i,t,s)||0);return r&&(t.value=o),o}function i(e){var i=[];return t(e,0,i),i}var s=Ya,a=Xa,r=za;return i.sort=function(t){return arguments.length?(s=t,i):s},i.children=function(t){return arguments.length?(a=t,i):a},i.value=function(t){return arguments.length?(r=t,i):r},i.revalue=function(t){return e(t,0),t},i},Xo.layout.partition=function(){function t(e,i,s,a){var r=e.children;if(e.x=i,e.y=e.depth*a,e.dx=s,e.dy=a,r&&(o=r.length)){var o,n,l,h=-1;for(s=e.value?s/e.value:0;++h<o;)t(n=r[h],i,l=n.value*s,a),i+=l}}function e(t){var i=t.children,s=0;if(i&&(a=i.length))for(var a,r=-1;++r<a;)s=Math.max(s,e(i[r]));return 1+s}function i(i,r){var o=s.call(this,i,r);return t(o[0],0,a[0],a[1]/e(o[0])),o}var s=Xo.layout.hierarchy(),a=[1,1];return i.size=function(t){return arguments.length?(a=t,i):a},ja(i,s)},Xo.layout.pie=function(){function t(r){var o=r.map(function(i,s){return+e.call(t,i,s)}),n=+("function"==typeof s?s.apply(this,arguments):s),l=(("function"==typeof a?a.apply(this,arguments):a)-n)/Xo.sum(o),h=Xo.range(r.length);null!=i&&h.sort(i===lh?function(t,e){return o[e]-o[t]}:function(t,e){return i(r[t],r[e])});var c=[];return h.forEach(function(t){var e;c[t]={data:r[t],value:e=o[t],startAngle:n,endAngle:n+=e*l}}),c}var e=Number,i=lh,s=0,a=Fn;return t.value=function(i){return arguments.length?(e=i,t):e},t.sort=function(e){return arguments.length?(i=e,t):i},t.startAngle=function(e){return arguments.length?(s=e,t):s},t.endAngle=function(e){return arguments.length?(a=e,t):a},t};var lh={};Xo.layout.stack=function(){function t(n,l){var h=n.map(function(i,s){return e.call(t,i,s)}),c=h.map(function(e){return e.map(function(e,i){return[r.call(t,e,i),o.call(t,e,i)]})}),d=i.call(t,c,l);h=Xo.permute(h,d),c=Xo.permute(c,d);var u,f,p,m=s.call(t,c,l),v=h.length,b=h[0].length;for(f=0;b>f;++f)for(a.call(t,h[0][f],p=m[f],c[0][f][1]),u=1;v>u;++u)a.call(t,h[u][f],p+=c[u-1][f][1],c[u][f][1]);return n}var e=we,i=Ja,s=tr,a=Za,r=$a,o=Ka;return t.values=function(i){return arguments.length?(e=i,t):e},t.order=function(e){return arguments.length?(i="function"==typeof e?e:hh.get(e)||Ja,t):i},t.offset=function(e){return arguments.length?(s="function"==typeof e?e:ch.get(e)||tr,t):s},t.x=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(a=e,t):a},t};var hh=Xo.map({"inside-out":function(t){var e,i,s=t.length,a=t.map(er),r=t.map(ir),o=Xo.range(s).sort(function(t,e){return a[t]-a[e]}),n=0,l=0,h=[],c=[];for(e=0;s>e;++e)i=o[e],l>n?(n+=r[i],h.push(i)):(l+=r[i],c.push(i));return c.reverse().concat(h)},reverse:function(t){return Xo.range(t.length).reverse()},"default":Ja}),ch=Xo.map({silhouette:function(t){var e,i,s,a=t.length,r=t[0].length,o=[],n=0,l=[];for(i=0;r>i;++i){for(e=0,s=0;a>e;e++)s+=t[e][i][1];s>n&&(n=s),o.push(s)}for(i=0;r>i;++i)l[i]=(n-o[i])/2;return l},wiggle:function(t){var e,i,s,a,r,o,n,l,h,c=t.length,d=t[0],u=d.length,f=[];for(f[0]=l=h=0,i=1;u>i;++i){for(e=0,a=0;c>e;++e)a+=t[e][i][1];for(e=0,r=0,n=d[i][0]-d[i-1][0];c>e;++e){for(s=0,o=(t[e][i][1]-t[e][i-1][1])/(2*n);e>s;++s)o+=(t[s][i][1]-t[s][i-1][1])/n;r+=o*t[e][i][1]}f[i]=l-=a?r/a*n:0,h>l&&(h=l)}for(i=0;u>i;++i)f[i]-=h;return f},expand:function(t){var e,i,s,a=t.length,r=t[0].length,o=1/a,n=[];for(i=0;r>i;++i){for(e=0,s=0;a>e;e++)s+=t[e][i][1];if(s)for(e=0;a>e;e++)t[e][i][1]/=s;else for(e=0;a>e;e++)t[e][i][1]=o}for(i=0;r>i;++i)n[i]=0;return n},zero:tr});Xo.layout.histogram=function(){function t(t,r){for(var o,n,l=[],h=t.map(i,this),c=s.call(this,h,r),d=a.call(this,c,h,r),r=-1,u=h.length,f=d.length-1,p=e?1:1/u;++r<f;)o=l[r]=[],o.dx=d[r+1]-(o.x=d[r]),o.y=0;if(f>0)for(r=-1;++r<u;)n=h[r],n>=c[0]&&n<=c[1]&&(o=l[Xo.bisect(d,n,1,f)-1],o.y+=p,o.push(t[r]));return l}var e=!0,i=Number,s=or,a=ar;return t.value=function(e){return arguments.length?(i=e,t):i},t.range=function(e){return arguments.length?(s=Te(e),t):s},t.bins=function(e){return arguments.length?(a="number"==typeof e?function(t){return rr(t,e)}:Te(e),t):a},t.frequency=function(i){return arguments.length?(e=!!i,t):e},t},Xo.layout.tree=function(){function t(t,r){function o(t,e){var s=t.children,a=t._tree;if(s&&(r=s.length)){for(var r,n,h,c=s[0],d=c,u=-1;++u<r;)h=s[u],o(h,n),d=l(h,n,d),n=h;mr(t);var f=.5*(c._tree.prelim+h._tree.prelim);e?(a.prelim=e._tree.prelim+i(t,e),a.mod=a.prelim-f):a.prelim=f}else e&&(a.prelim=e._tree.prelim+i(t,e))}function n(t,e){t.x=t._tree.prelim+e;var i=t.children;if(i&&(s=i.length)){var s,a=-1;for(e+=t._tree.mod;++a<s;)n(i[a],e)}}function l(t,e,s){if(e){for(var a,r=t,o=t,n=e,l=t.parent.children[0],h=r._tree.mod,c=o._tree.mod,d=n._tree.mod,u=l._tree.mod;n=hr(n),r=lr(r),n&&r;)l=lr(l),o=hr(o),o._tree.ancestor=t,a=n._tree.prelim+d-r._tree.prelim-h+i(n,r),a>0&&(vr(br(n,t,s),t,a),h+=a,c+=a),d+=n._tree.mod,h+=r._tree.mod,u+=l._tree.mod,c+=o._tree.mod;n&&!hr(o)&&(o._tree.thread=n,o._tree.mod+=d-c),r&&!lr(l)&&(l._tree.thread=r,l._tree.mod+=h-u,s=t)}return s}var h=e.call(this,t,r),c=h[0];pr(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),o(c),n(c,-c._tree.prelim);var d=cr(c,ur),u=cr(c,dr),f=cr(c,fr),p=d.x-i(d,u)/2,m=u.x+i(u,d)/2,v=f.depth||1;return pr(c,a?function(t){t.x*=s[0],t.y=t.depth*s[1],delete t._tree}:function(t){t.x=(t.x-p)/(m-p)*s[0],t.y=t.depth/v*s[1],delete t._tree}),h}var e=Xo.layout.hierarchy().sort(null).value(null),i=nr,s=[1,1],a=!1;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(a=null==(s=e),t):a?null:s},t.nodeSize=function(e){return arguments.length?(a=null!=(s=e),t):a?s:null},ja(t,e)},Xo.layout.pack=function(){function t(t,r){var o=i.call(this,t,r),n=o[0],l=a[0],h=a[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(n.x=n.y=0,pr(n,function(t){t.r=+c(t.value)}),pr(n,wr),s){var d=s*(e?1:Math.max(2*n.r/l,2*n.r/h))/2;pr(n,function(t){t.r+=d}),pr(n,wr),pr(n,function(t){t.r-=d})}return xr(n,l/2,h/2,e?1:1/Math.max(2*n.r/l,2*n.r/h)),o}var e,i=Xo.layout.hierarchy().sort(_r),s=0,a=[1,1];return t.size=function(e){return arguments.length?(a=e,t):a},t.radius=function(i){return arguments.length?(e=null==i||"function"==typeof i?i:+i,t):e},t.padding=function(e){return arguments.length?(s=+e,t):s},ja(t,i)},Xo.layout.cluster=function(){function t(t,r){var o,n=e.call(this,t,r),l=n[0],h=0;pr(l,function(t){var e=t.children;e&&e.length?(t.x=kr(e),t.y=Lr(e)):(t.x=o?h+=i(t,o):0,t.y=0,o=t)});var c=Ir(l),d=Sr(l),u=c.x-i(c,d)/2,f=d.x+i(d,c)/2;return pr(l,a?function(t){t.x=(t.x-l.x)*s[0],t.y=(l.y-t.y)*s[1]}:function(t){t.x=(t.x-u)/(f-u)*s[0],t.y=(1-(l.y?t.y/l.y:1))*s[1]}),n}var e=Xo.layout.hierarchy().sort(null).value(null),i=nr,s=[1,1],a=!1;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(a=null==(s=e),t):a?null:s},t.nodeSize=function(e){return arguments.length?(a=null!=(s=e),t):a?s:null},ja(t,e)},Xo.layout.treemap=function(){function t(t,e){for(var i,s,a=-1,r=t.length;++a<r;)s=(i=t[a]).value*(0>e?0:e),i.area=isNaN(s)||0>=s?0:s}function e(i){var r=i.children;if(r&&r.length){var o,n,l,h=d(i),c=[],u=r.slice(),p=1/0,m="slice"===f?h.dx:"dice"===f?h.dy:"slice-dice"===f?1&i.depth?h.dy:h.dx:Math.min(h.dx,h.dy);for(t(u,h.dx*h.dy/i.value),c.area=0;(l=u.length)>0;)c.push(o=u[l-1]),c.area+=o.area,"squarify"!==f||(n=s(c,m))<=p?(u.pop(),p=n):(c.area-=c.pop().area,a(c,m,h,!1),m=Math.min(h.dx,h.dy),c.length=c.area=0,p=1/0);c.length&&(a(c,m,h,!0),c.length=c.area=0),r.forEach(e)}}function i(e){var s=e.children;if(s&&s.length){var r,o=d(e),n=s.slice(),l=[];for(t(n,o.dx*o.dy/e.value),l.area=0;r=n.pop();)l.push(r),l.area+=r.area,null!=r.z&&(a(l,r.z?o.dx:o.dy,o,!n.length),l.length=l.area=0);s.forEach(i)}}function s(t,e){for(var i,s=t.area,a=0,r=1/0,o=-1,n=t.length;++o<n;)(i=t[o].area)&&(r>i&&(r=i),i>a&&(a=i));return s*=s,e*=e,s?Math.max(e*a*p/s,s/(e*r*p)):1/0}function a(t,e,i,s){var a,r=-1,o=t.length,n=i.x,h=i.y,c=e?l(t.area/e):0;if(e==i.dx){for((s||c>i.dy)&&(c=i.dy);++r<o;)a=t[r],a.x=n,a.y=h,a.dy=c,n+=a.dx=Math.min(i.x+i.dx-n,c?l(a.area/c):0);a.z=!0,a.dx+=i.x+i.dx-n,i.y+=c,i.dy-=c}else{for((s||c>i.dx)&&(c=i.dx);++r<o;)a=t[r],a.x=n,a.y=h,a.dx=c,h+=a.dy=Math.min(i.y+i.dy-h,c?l(a.area/c):0);a.z=!1,a.dy+=i.y+i.dy-h,i.x+=c,i.dx-=c}}function r(s){var a=o||n(s),r=a[0];return r.x=0,r.y=0,r.dx=h[0],r.dy=h[1],o&&n.revalue(r),t([r],r.dx*r.dy/r.value),(o?i:e)(r),u&&(o=a),a}var o,n=Xo.layout.hierarchy(),l=Math.round,h=[1,1],c=null,d=Rr,u=!1,f="squarify",p=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(h=t,r):h},r.padding=function(t){function e(e){var i=t.call(r,e,e.depth);return null==i?Rr(e):Dr(e,"number"==typeof i?[i,i,i,i]:i)}function i(e){return Dr(e,t)}if(!arguments.length)return c;var s;return d=null==(c=t)?Rr:"function"==(s=typeof t)?e:"number"===s?(t=[t,t,t,t],i):i,r},r.round=function(t){return arguments.length?(l=t?Math.round:Number,r):l!=Number},r.sticky=function(t){return arguments.length?(u=t,o=null,r):u},r.ratio=function(t){return arguments.length?(p=t,r):p},r.mode=function(t){return arguments.length?(f=t+"",r):f},ja(r,n)},Xo.random={normal:function(t,e){var i=arguments.length;return 2>i&&(e=1),1>i&&(t=0),function(){var i,s,a;do i=2*Math.random()-1,s=2*Math.random()-1,a=i*i+s*s;while(!a||a>1);return t+e*i*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=Xo.random.normal.apply(Xo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Xo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,i=0;t>i;i++)e+=Math.random();return e}}},Xo.scale={};var dh={floor:we,ceil:we};Xo.scale.linear=function(){return Pr([0,1],[0,1],da,!1)};var uh={s:1,g:1,p:1,r:1,e:1};Xo.scale.log=function(){return zr(Xo.scale.linear().domain([0,1]),10,!0,[1,10])};var fh=Xo.format(".0e"),ph={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Xo.scale.pow=function(){return Yr(Xo.scale.linear(),1,[0,1])},Xo.scale.sqrt=function(){return Xo.scale.pow().exponent(.5)},Xo.scale.ordinal=function(){return $r([],{t:"range",a:[[]]})},Xo.scale.category10=function(){return Xo.scale.ordinal().range(mh)},Xo.scale.category20=function(){return Xo.scale.ordinal().range(vh)},Xo.scale.category20b=function(){return Xo.scale.ordinal().range(bh)},Xo.scale.category20c=function(){return Xo.scale.ordinal().range(_h)};var mh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ue),vh=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ue),bh=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ue),_h=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ue);Xo.scale.quantile=function(){return Kr([],[])
},Xo.scale.quantize=function(){return Zr(0,1,[0,1])},Xo.scale.threshold=function(){return Jr([.5],[0,1])},Xo.scale.identity=function(){return to([0,1])},Xo.svg={},Xo.svg.arc=function(){function t(){var t=e.apply(this,arguments),r=i.apply(this,arguments),o=s.apply(this,arguments)+gh,n=a.apply(this,arguments)+gh,l=(o>n&&(l=o,o=n,n=l),n-o),h=xn>l?"0":"1",c=Math.cos(o),d=Math.sin(o),u=Math.cos(n),f=Math.sin(n);return l>=yh?t?"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z":t?"M"+r*c+","+r*d+"A"+r+","+r+" 0 "+h+",1 "+r*u+","+r*f+"L"+t*u+","+t*f+"A"+t+","+t+" 0 "+h+",0 "+t*c+","+t*d+"Z":"M"+r*c+","+r*d+"A"+r+","+r+" 0 "+h+",1 "+r*u+","+r*f+"L0,0"+"Z"}var e=eo,i=io,s=so,a=ao;return t.innerRadius=function(i){return arguments.length?(e=Te(i),t):e},t.outerRadius=function(e){return arguments.length?(i=Te(e),t):i},t.startAngle=function(e){return arguments.length?(s=Te(e),t):s},t.endAngle=function(e){return arguments.length?(a=Te(e),t):a},t.centroid=function(){var t=(e.apply(this,arguments)+i.apply(this,arguments))/2,r=(s.apply(this,arguments)+a.apply(this,arguments))/2+gh;return[Math.cos(r)*t,Math.sin(r)*t]},t};var gh=-Ln,yh=Fn-kn;Xo.svg.line=function(){return ro(we)};var Th=Xo.map({linear:oo,"linear-closed":no,step:lo,"step-before":ho,"step-after":co,basis:bo,"basis-open":_o,"basis-closed":go,bundle:yo,cardinal:po,"cardinal-open":uo,"cardinal-closed":fo,monotone:Fo});Th.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var wh=[0,2/3,1/3,0],Ch=[0,1/3,2/3,0],Ah=[0,1/6,2/3,1/6];Xo.svg.line.radial=function(){var t=ro(Lo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ho.reverse=co,co.reverse=ho,Xo.svg.area=function(){return ko(we)},Xo.svg.area.radial=function(){var t=ko(Lo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Xo.svg.chord=function(){function t(t,n){var l=e(this,r,t,n),h=e(this,o,t,n);return"M"+l.p0+s(l.r,l.p1,l.a1-l.a0)+(i(l,h)?a(l.r,l.p1,l.r,l.p0):a(l.r,l.p1,h.r,h.p0)+s(h.r,h.p1,h.a1-h.a0)+a(h.r,h.p1,l.r,l.p0))+"Z"}function e(t,e,i,s){var a=e.call(t,i,s),r=n.call(t,a,s),o=l.call(t,a,s)+gh,c=h.call(t,a,s)+gh;return{r:r,a0:o,a1:c,p0:[r*Math.cos(o),r*Math.sin(o)],p1:[r*Math.cos(c),r*Math.sin(c)]}}function i(t,e){return t.a0==e.a0&&t.a1==e.a1}function s(t,e,i){return"A"+t+","+t+" 0 "+ +(i>xn)+",1 "+e}function a(t,e,i,s){return"Q 0,0 "+s}var r=us,o=fs,n=Io,l=so,h=ao;return t.radius=function(e){return arguments.length?(n=Te(e),t):n},t.source=function(e){return arguments.length?(r=Te(e),t):r},t.target=function(e){return arguments.length?(o=Te(e),t):o},t.startAngle=function(e){return arguments.length?(l=Te(e),t):l},t.endAngle=function(e){return arguments.length?(h=Te(e),t):h},t},Xo.svg.diagonal=function(){function t(t,a){var r=e.call(this,t,a),o=i.call(this,t,a),n=(r.y+o.y)/2,l=[r,{x:r.x,y:n},{x:o.x,y:n},o];return l=l.map(s),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=us,i=fs,s=So;return t.source=function(i){return arguments.length?(e=Te(i),t):e},t.target=function(e){return arguments.length?(i=Te(e),t):i},t.projection=function(e){return arguments.length?(s=e,t):s},t},Xo.svg.diagonal.radial=function(){var t=Xo.svg.diagonal(),e=So,i=t.projection;return t.projection=function(t){return arguments.length?i(Ro(e=t)):e},t},Xo.svg.symbol=function(){function t(t,s){return(xh.get(e.call(this,t,s))||Wo)(i.call(this,t,s))}var e=Oo,i=Do;return t.type=function(i){return arguments.length?(e=Te(i),t):e},t.size=function(e){return arguments.length?(i=Te(e),t):i},t};var xh=Xo.map({circle:Wo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ih)),i=e*Ih;return"M0,"+-e+"L"+i+",0"+" 0,"+e+" "+-i+",0"+"Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/kh),i=e*kh/2;return"M0,"+i+"L"+e+","+-i+" "+-e+","+-i+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/kh),i=e*kh/2;return"M0,"+-i+"L"+e+","+i+" "+-e+","+i+"Z"}});Xo.svg.symbolTypes=xh.keys();var Fh,Lh,kh=Math.sqrt(3),Ih=Math.tan(30*Sn),Sh=[],Rh=0;Sh.call=bn.call,Sh.empty=bn.empty,Sh.node=bn.node,Sh.size=bn.size,Xo.transition=function(t){return arguments.length?Fh?t.transition():t:yn.transition()},Xo.transition.prototype=Sh,Sh.select=function(t){var e,i,s,a=this.id,r=[];t=y(t);for(var o=-1,n=this.length;++o<n;){r.push(e=[]);for(var l=this[o],h=-1,c=l.length;++h<c;)(s=l[h])&&(i=t.call(s,s.__data__,h,o))?("__data__"in s&&(i.__data__=s.__data__),Ho(i,h,a,s.__transition__[a]),e.push(i)):e.push(null)}return Mo(r,a)},Sh.selectAll=function(t){var e,i,s,a,r,o=this.id,n=[];t=T(t);for(var l=-1,h=this.length;++l<h;)for(var c=this[l],d=-1,u=c.length;++d<u;)if(s=c[d]){r=s.__transition__[o],i=t.call(s,s.__data__,d,l),n.push(e=[]);for(var f=-1,p=i.length;++f<p;)(a=i[f])&&Ho(a,f,o,r),e.push(a)}return Mo(n,o)},Sh.filter=function(t){var e,i,s,a=[];"function"!=typeof t&&(t=D(t));for(var r=0,o=this.length;o>r;r++){a.push(e=[]);for(var i=this[r],n=0,l=i.length;l>n;n++)(s=i[n])&&t.call(s,s.__data__,n,r)&&e.push(s)}return Mo(a,this.id)},Sh.tween=function(t,e){var i=this.id;return arguments.length<2?this.node().__transition__[i].tween.get(t):W(this,null==e?function(e){e.__transition__[i].tween.remove(t)}:function(s){s.__transition__[i].tween.set(t,e)})},Sh.attr=function(t,e){function i(){this.removeAttribute(n)}function s(){this.removeAttributeNS(n.space,n.local)}function a(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(n);return i!==t&&(e=o(i,t),function(t){this.setAttribute(n,e(t))})})}function r(t){return null==t?s:(t+="",function(){var e,i=this.getAttributeNS(n.space,n.local);return i!==t&&(e=o(i,t),function(t){this.setAttributeNS(n.space,n.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Wa:da,n=Xo.ns.qualify(t);return Eo(this,"attr."+t,e,n.local?r:a)},Sh.attrTween=function(t,e){function i(t,i){var s=e.call(this,t,i,this.getAttribute(a));return s&&function(t){this.setAttribute(a,s(t))}}function s(t,i){var s=e.call(this,t,i,this.getAttributeNS(a.space,a.local));return s&&function(t){this.setAttributeNS(a.space,a.local,s(t))}}var a=Xo.ns.qualify(t);return this.tween("attr."+t,a.local?s:i)},Sh.style=function(t,e,i){function s(){this.style.removeProperty(t)}function a(e){return null==e?s:(e+="",function(){var s,a=Ko.getComputedStyle(this,null).getPropertyValue(t);return a!==e&&(s=da(a,e),function(e){this.style.setProperty(t,s(e),i)})})}var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(i in t)this.style(i,t[i],e);return this}i=""}return Eo(this,"style."+t,e,a)},Sh.styleTween=function(t,e,i){function s(s,a){var r=e.call(this,s,a,Ko.getComputedStyle(this,null).getPropertyValue(t));return r&&function(e){this.style.setProperty(t,r(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,s)},Sh.text=function(t){return Eo(this,"text",t,Bo)},Sh.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Sh.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Xo.ease.apply(Xo,arguments)),W(this,function(i){i.__transition__[e].ease=t}))},Sh.delay=function(t){var e=this.id;return W(this,"function"==typeof t?function(i,s,a){i.__transition__[e].delay=+t.call(i,i.__data__,s,a)}:(t=+t,function(i){i.__transition__[e].delay=t}))},Sh.duration=function(t){var e=this.id;return W(this,"function"==typeof t?function(i,s,a){i.__transition__[e].duration=Math.max(1,t.call(i,i.__data__,s,a))}:(t=Math.max(1,t),function(i){i.__transition__[e].duration=t}))},Sh.each=function(t,e){var i=this.id;if(arguments.length<2){var s=Lh,a=Fh;Fh=i,W(this,function(e,s,a){Lh=e.__transition__[i],t.call(e,e.__data__,s,a)}),Lh=s,Fh=a}else W(this,function(s){var a=s.__transition__[i];(a.event||(a.event=Xo.dispatch("start","end"))).on(t,e)});return this},Sh.transition=function(){for(var t,e,i,s,a=this.id,r=++Rh,o=[],n=0,l=this.length;l>n;n++){o.push(t=[]);for(var e=this[n],h=0,c=e.length;c>h;h++)(i=e[h])&&(s=Object.create(i.__transition__[a]),s.delay+=s.duration,Ho(i,h,r,s)),t.push(i)}return Mo(o,r)},Xo.svg.axis=function(){function t(t){t.each(function(){var t,h=Xo.select(this),c=this.__chart__||i,d=this.__chart__=i.copy(),u=null==l?d.ticks?d.ticks.apply(d,n):d.domain():l,f=null==e?d.tickFormat?d.tickFormat.apply(d,n):we:e,p=h.selectAll(".tick").data(u,d),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",kn),v=Xo.transition(p.exit()).style("opacity",kn).remove(),b=Xo.transition(p).style("opacity",1),_=Wr(d),g=h.selectAll(".domain").data([0]),y=(g.enter().append("path").attr("class","domain"),Xo.transition(g));m.append("line"),m.append("text");var T=m.select("line"),w=b.select("line"),C=p.select("text").text(f),A=m.select("text"),x=b.select("text");switch(s){case"bottom":t=Po,T.attr("y2",a),A.attr("y",Math.max(a,0)+o),w.attr("x2",0).attr("y2",a),x.attr("x",0).attr("y",Math.max(a,0)+o),C.attr("dy",".71em").style("text-anchor","middle"),y.attr("d","M"+_[0]+","+r+"V0H"+_[1]+"V"+r);break;case"top":t=Po,T.attr("y2",-a),A.attr("y",-(Math.max(a,0)+o)),w.attr("x2",0).attr("y2",-a),x.attr("x",0).attr("y",-(Math.max(a,0)+o)),C.attr("dy","0em").style("text-anchor","middle"),y.attr("d","M"+_[0]+","+-r+"V0H"+_[1]+"V"+-r);break;case"left":t=No,T.attr("x2",-a),A.attr("x",-(Math.max(a,0)+o)),w.attr("x2",-a).attr("y2",0),x.attr("x",-(Math.max(a,0)+o)).attr("y",0),C.attr("dy",".32em").style("text-anchor","end"),y.attr("d","M"+-r+","+_[0]+"H0V"+_[1]+"H"+-r);break;case"right":t=No,T.attr("x2",a),A.attr("x",Math.max(a,0)+o),w.attr("x2",a).attr("y2",0),x.attr("x",Math.max(a,0)+o).attr("y",0),C.attr("dy",".32em").style("text-anchor","start"),y.attr("d","M"+r+","+_[0]+"H0V"+_[1]+"H"+r)}if(d.rangeBand){var F=d,L=F.rangeBand()/2;c=d=function(t){return F(t)+L}}else c.rangeBand?c=d:v.call(t,d);m.call(t,c),b.call(t,d)})}var e,i=Xo.scale.linear(),s=Dh,a=6,r=6,o=3,n=[10],l=null;return t.scale=function(e){return arguments.length?(i=e,t):i},t.orient=function(e){return arguments.length?(s=e in Oh?e+"":Dh,t):s},t.ticks=function(){return arguments.length?(n=arguments,t):n},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(i){return arguments.length?(e=i,t):e},t.tickSize=function(e){var i=arguments.length;return i?(a=+e,r=+arguments[i-1],t):a},t.innerTickSize=function(e){return arguments.length?(a=+e,t):a},t.outerTickSize=function(e){return arguments.length?(r=+e,t):r},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Dh="bottom",Oh={top:1,right:1,bottom:1,left:1};Xo.svg.brush=function(){function t(r){r.each(function(){var r=Xo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=r.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),r.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=r.selectAll(".resize").data(p,we);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Wh[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",t.empty()?"none":null);var c,d=Xo.transition(r),u=Xo.transition(o);l&&(c=Wr(l),u.attr("x",c[0]).attr("width",c[1]-c[0]),i(d)),h&&(c=Wr(h),u.attr("y",c[0]).attr("height",c[1]-c[0]),s(d)),e(d)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function s(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function a(){function a(){32==Xo.event.keyCode&&(k||(g=null,S[0]-=c[1],S[1]-=d[1],k=2),v())}function p(){32==Xo.event.keyCode&&2==k&&(S[0]+=c[1],S[1]+=d[1],k=0,v())}function m(){var t=Xo.mouse(T),a=!1;y&&(t[0]+=y[0],t[1]+=y[1]),k||(Xo.event.altKey?(g||(g=[(c[0]+c[1])/2,(d[0]+d[1])/2]),S[0]=c[+(t[0]<g[0])],S[1]=d[+(t[1]<g[1])]):g=null),F&&b(t,l,0)&&(i(A),a=!0),L&&b(t,h,1)&&(s(A),a=!0),a&&(e(A),C({type:"brush",mode:k?"move":"resize"}))}function b(t,e,i){var s,a,n=Wr(e),l=n[0],h=n[1],p=S[i],m=i?d:c,v=m[1]-m[0];return k&&(l-=p,h-=v+p),s=(i?f:u)?Math.max(l,Math.min(h,t[i])):t[i],k?a=(s+=p)+v:(g&&(p=Math.max(l,Math.min(h,2*g[i]-s))),s>p?(a=s,s=p):a=p),m[0]!=s||m[1]!=a?(i?o=null:r=null,m[0]=s,m[1]=a,!0):void 0}function _(){m(),A.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Xo.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),I(),C({type:"brushend"})}var g,y,T=this,w=Xo.select(Xo.event.target),C=n.of(T,arguments),A=Xo.select(T),x=w.datum(),F=!/^(n|s)$/.test(x)&&l,L=!/^(e|w)$/.test(x)&&h,k=w.classed("extent"),I=G(),S=Xo.mouse(T),R=Xo.select(Ko).on("keydown.brush",a).on("keyup.brush",p);if(Xo.event.changedTouches?R.on("touchmove.brush",m).on("touchend.brush",_):R.on("mousemove.brush",m).on("mouseup.brush",_),A.interrupt().selectAll("*").interrupt(),k)S[0]=c[0]-S[0],S[1]=d[0]-S[1];else if(x){var D=+/w$/.test(x),O=+/^n/.test(x);y=[c[1-D]-S[0],d[1-O]-S[1]],S[0]=c[D],S[1]=d[O]}else Xo.event.altKey&&(g=S.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),Xo.select("body").style("cursor",w.style("cursor")),C({type:"brushstart"}),m()}var r,o,n=_(t,"brushstart","brush","brushend"),l=null,h=null,c=[0,0],d=[0,0],u=!0,f=!0,p=Mh[0];return t.event=function(t){t.each(function(){var t=n.of(this,arguments),e={x:c,y:d,i:r,j:o},i=this.__chart__||e;this.__chart__=e,Fh?Xo.select(this).transition().each("start.brush",function(){r=i.i,o=i.j,c=i.x,d=i.y,t({type:"brushstart"})}).tween("brush:brush",function(){var i=ua(c,e.x),s=ua(d,e.y);return r=o=null,function(a){c=e.x=i(a),d=e.y=s(a),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){r=e.i,o=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,p=Mh[!l<<1|!h],t):l},t.y=function(e){return arguments.length?(h=e,p=Mh[!l<<1|!h],t):h},t.clamp=function(e){return arguments.length?(l&&h?(u=!!e[0],f=!!e[1]):l?u=!!e:h&&(f=!!e),t):l&&h?[u,f]:l?u:h?f:null},t.extent=function(e){var i,s,a,n,u;return arguments.length?(l&&(i=e[0],s=e[1],h&&(i=i[0],s=s[0]),r=[i,s],l.invert&&(i=l(i),s=l(s)),i>s&&(u=i,i=s,s=u),(i!=c[0]||s!=c[1])&&(c=[i,s])),h&&(a=e[0],n=e[1],l&&(a=a[1],n=n[1]),o=[a,n],h.invert&&(a=h(a),n=h(n)),a>n&&(u=a,a=n,n=u),(a!=d[0]||n!=d[1])&&(d=[a,n])),t):(l&&(r?(i=r[0],s=r[1]):(i=c[0],s=c[1],l.invert&&(i=l.invert(i),s=l.invert(s)),i>s&&(u=i,i=s,s=u))),h&&(o?(a=o[0],n=o[1]):(a=d[0],n=d[1],h.invert&&(a=h.invert(a),n=h.invert(n)),a>n&&(u=a,a=n,n=u))),l&&h?[[i,a],[s,n]]:l?[i,s]:h&&[a,n])},t.clear=function(){return t.empty()||(c=[0,0],d=[0,0],r=o=null),t},t.empty=function(){return!!l&&c[0]==c[1]||!!h&&d[0]==d[1]},Xo.rebind(t,n,"on")};var Wh={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Mh=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Eh=il.format=ll.timeFormat,Bh=Eh.utc,Hh=Bh("%Y-%m-%dT%H:%M:%S.%LZ");Eh.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Go:Hh,Go.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Go.toString=Hh.toString,il.second=We(function(t){return new sl(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),il.seconds=il.second.range,il.seconds.utc=il.second.utc.range,il.minute=We(function(t){return new sl(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),il.minutes=il.minute.range,il.minutes.utc=il.minute.utc.range,il.hour=We(function(t){var e=t.getTimezoneOffset()/60;return new sl(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),il.hours=il.hour.range,il.hours.utc=il.hour.utc.range,il.month=We(function(t){return t=il.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),il.months=il.month.range,il.months.utc=il.month.utc.range;var Ph=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Nh=[[il.second,1],[il.second,5],[il.second,15],[il.second,30],[il.minute,1],[il.minute,5],[il.minute,15],[il.minute,30],[il.hour,1],[il.hour,3],[il.hour,6],[il.hour,12],[il.day,1],[il.day,2],[il.week,1],[il.month,1],[il.month,3],[il.year,1]],Gh=Eh.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",wi]]),Vh={range:function(t,e,i){return Xo.range(+t,+e,i).map(Uo)},floor:we,ceil:we};Nh.year=il.year,il.scale=function(){return Vo(Xo.scale.linear(),Nh,Gh)};var Uh=Nh.map(function(t){return[t[0].utc,t[1]]}),qh=Bh.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%b",function(t){return t.getUTCMonth()}],["%Y",wi]]);Uh.year=il.year.utc,il.scale.utc=function(){return Vo(Xo.scale.linear(),Uh,qh)},Xo.text=Ce(function(t){return t.responseText}),Xo.json=function(t,e){return Ae(t,"application/json",qo,e)},Xo.html=function(t,e){return Ae(t,"text/html",jo,e)},Xo.xml=Ce(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(Xo):"object"==typeof module&&module.exports?module.exports=Xo:this.d3=Xo}();